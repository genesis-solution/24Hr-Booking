var MileniaSidebarHidden=(function(h){var i=h("body"),g;var j={cssPrefix:"",classMap:{sidebar:"sidebar-hidden",invoker:"sidebar-hidden-btn",close:"sidebar-hidden-close",pushedContainer:"page-wrapper",active:"body--hidden-sidebar-opened",niceScrolled:"-nice-scrolled",sidebarActive:"hidden-sidebar--opened"}};function f(a){this.config=h.isPlainObject(a)?h.extend(true,{},j,a):j;Object.defineProperties(this,{sidebarClass:{get:function(){return this.config.cssPrefix+this.config.classMap.sidebar}},sidebarSelector:{get:function(){return"."+this.sidebarClass}},invokerClass:{get:function(){return this.config.cssPrefix+this.config.classMap.invoker}},invokerSelector:{get:function(){return"."+this.invokerClass}},niceScrolledClass:{get:function(){return this.config.cssPrefix+this.config.classMap.niceScrolled}},niceScrolledSelector:{get:function(){return"."+this.niceScrolledClass}},closeClass:{get:function(){return this.config.cssPrefix+this.config.classMap.close}},closeSelector:{get:function(){return"."+this.closeClass}},activeClass:{get:function(){return this.config.cssPrefix+this.config.classMap.active}},sidebarActiveClass:{get:function(){return this.config.cssPrefix+this.config.classMap.sidebarActive}}});this.initialize()}f.prototype.initialize=function(){var a=this;i.off("click.MileniaSidebarHidden").on("click.MileniaSidebarHidden",a.invokerSelector,function(b){var c=h(this),d=h(c.data("sidebar-hidden"));if(!d.length){return}a.toggle(c);b.preventDefault()}).on("click.MileniaSidebarHidden",a.closeSelector,function(b){var c=h(this),d=h(c.data("sidebar-hidden"));if(!d.length){return}a.hide(c);b.preventDefault()});h(document).off("keydown.MileniaSidebarHidden").on("keydown.MileniaSidebarHidden",function(b){if(b.keyCode&&b.keyCode==27){a.hideAll()}}).off("click.MileniaSidebarHidden").on("click.MileniaSidebarHidden",function(b){var c=h(b.target);if(!c.closest(a.sidebarSelector+","+a.invokerSelector+", .fancybox-container, .arcticmodal-container, .arcticmodal-overlay").length){a.hideAll()}})};f.prototype.toggle=function(a){this.isOpened()?this.hide(a):this.show(a)};f.prototype.isOpened=function(){return i.hasClass(this.activeClass)};f.prototype.hide=function(d){var a=d.data("sidebar-hidden"),b=h(a),c=b.closest(this.niceScrolledSelector).add(b.find(this.niceScrolledSelector)),e=h('[data-sidebar-hidden="'+a+'"]'),l=parseFloat(b.css("transition-duration"),10)*1000;i.removeClass(this.activeClass);b.removeClass(this.sidebarActiveClass);e.attr("aria-expanded","false");b.attr("aria-hidden","true");if(c.length){g=setInterval(function(){c.getNiceScroll().resize()},4);setTimeout(function(){clearInterval(g)},l)}};f.prototype.show=function(d){var a=d.data("sidebar-hidden"),b=h(a),c=b.closest(this.niceScrolledSelector),e=h('[data-sidebar-hidden="'+a+'"]'),l=parseFloat(b.css("transition-duration"),10)*1000;i.addClass(this.activeClass);b.addClass(this.sidebarActiveClass);e.attr("aria-expanded","true");b.attr("aria-hidden","false");if(c.length){g=setInterval(function(){c.getNiceScroll().resize()},4);setTimeout(function(){clearInterval(g)},l)}};f.prototype.hideAll=function(){var a=h(this.invokerSelector),b=this;if(a.length){a.each(function(d,c){b.hide(h(c))})}};return f})(window.jQuery);