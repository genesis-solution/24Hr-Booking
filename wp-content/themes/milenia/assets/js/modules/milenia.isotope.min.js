var MileniaIsotopeWrapper=(function(d){var c={itemSelector:".grid-item",percentPosition:true,transitionDuration:500,originLeft:getComputedStyle(document.body).direction!=="rtl",masonry:{columnWidth:".milenia-grid-sizer"},activeFilterClass:"milenia-active"};var a=function(f,e){f=f&&f.length?f:d();if(!f.length){return f}e=e&&d.isPlainObject(e)?e:{};return f.each(function(){var h=d(this),g=d.extend(true,{},c,e,h.data());if(h.data("isotope-layout")=="grid"){delete g.masonry;g.layoutMode="fitRows"}if(!h.data("IsotopeWrapper")){h.data("IsotopeWrapper",new b(h,g))}})};function b(e,f){this.container=e;this.config=f;this.init()}b.prototype.init=function(){var e=this;this.container.isotope(this.config);this.container.jQueryImagesLoaded().progress(function(){e.container.isotope("layout");e.container.trigger("milenia.isotopeReady")});if(this.container.data("isotope-filter")){this.initFilter()}};b.prototype.relayout=function(){this.container.isotope("layout")};b.prototype.initFilter=function(){if(this.filter){return}var e=this;if(this.container.data("isotope-filter")){this.filter=d(this.container.data("isotope-filter"));if(!this.filter.length){this.filter=null;return}this.filter.on("click.IsotopeWrapper","[data-filter]",function(g){var f=d(this);if(!f.data("filter")){return}f.closest(e.filter).find("."+e.config.activeFilterClass).removeClass(e.config.activeFilterClass);f.addClass(e.config.activeFilterClass);e.container.isotope({filter:f.data("filter")});g.preventDefault()})}};return{init:a}})(jQuery);