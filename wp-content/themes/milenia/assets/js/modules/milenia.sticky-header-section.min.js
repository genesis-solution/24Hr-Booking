var MileniaStickyHeaderSection=(function(d){if(!d){return}var c={cssPrefix:"milenia-",resizeDelay:50,classMap:{hiddenSection:"header-section--sticky-hidden",active:"header-section--sticked",container:"header",spaceException:"header--transparent-single",exceptionForSpaceException:"header--breadcrumb-part"},breakpointMap:{xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1380,xxxl:1600},animationDuration:400,animationEasing:"linear"};var b=d("body");function a(e,f){this.$element=e;this.config=d.extend(true,{},c,(f||{}));this.updateDocumentState();Object.defineProperties(this,{activeClass:{get:function(){return this.config.cssPrefix+this.config.classMap.active}},sticked:{get:function(){return this.$element.hasClass(this.activeClass)}},$hiddenSections:{get:function(){return this.$element.find("."+this.config.cssPrefix+this.config.classMap.hiddenSection)}},isSuitable:{get:function(){var g=d(window);return this.$element.hasClass(this.config.cssPrefix+"header-section--sticky-xs")&&g.width()>this.config.breakpointMap.xs||this.$element.hasClass(this.config.cssPrefix+"header-section--sticky-sm")&&g.width()>this.config.breakpointMap.sm||this.$element.hasClass(this.config.cssPrefix+"header-section--sticky-md")&&g.width()>this.config.breakpointMap.md||this.$element.hasClass(this.config.cssPrefix+"header-section--sticky-lg")&&g.width()>this.config.breakpointMap.lg||this.$element.hasClass(this.config.cssPrefix+"header-section--sticky-xl")&&g.width()>this.config.breakpointMap.xl||this.$element.hasClass(this.config.cssPrefix+"header-section--sticky-xxl")&&g.width()>this.config.breakpointMap.xxl||this.$element.hasClass(this.config.cssPrefix+"header-section--sticky-xxxl")&&g.width()>this.config.breakpointMap.xxxl}},$container:{get:function(){return this.$element.closest("."+this.config.cssPrefix+this.config.classMap.container)}},spaceExceptionClass:{get:function(){return this.config.cssPrefix+this.config.classMap.spaceException}},exceptionForSpaceExceptionClass:{get:function(){return this.config.cssPrefix+this.config.classMap.exceptionForSpaceException}}});this._bindEvents()}a.prototype.updateDocumentState=function(){var e=d("#wpadminbar");this.topOffset=this.$element.offset().top;this.defaultBodyPadding=parseInt(b.css("padding-top"),10);if(e.length){this.topOffset-=e.outerHeight()}return this};a.prototype.sticky=function(){this.$element.addClass(this.activeClass);this._addSpace().hideSections();return this};a.prototype.unsticky=function(){this.$element.removeClass(this.activeClass);this._removeSpace().showSections();return this};a.prototype._addSpace=function(){if(!this.$container.hasClass(this.spaceExceptionClass)||this.$container.hasClass(this.exceptionForSpaceExceptionClass)){b.css("padding-top",this.defaultBodyPadding+this.$element.outerHeight()).trigger("spaceadded.milenia.stickysection")}return this};a.prototype._removeSpace=function(){if(!this.$container.hasClass(this.spaceExceptionClass)||this.$container.hasClass(this.exceptionForSpaceExceptionClass)){b.css("padding-top",this.defaultBodyPadding).trigger("spaceremoved.milenia.stickysection")}return this};a.prototype.hideSections=function(){var e=this,f;if(this.$hiddenSections.length){this.$hiddenSections.stop().slideUp({easing:e.config.animationEasing,duration:e.config.animationDuration,step:function(){e._addSpace();if(window.Milenia&&window.Milenia.helpers&&window.Milenia.helpers.PageStretcher){window.Milenia.helpers.PageStretcher.stretch()}},complete:function(){d(this).css({height:""});if(window.Milenia&&window.Milenia.helpers&&window.Milenia.helpers.PageStretcher){window.Milenia.helpers.PageStretcher.stretch()}}})}return this.$hiddenSections};a.prototype.showSections=function(){var e=this;if(this.$hiddenSections.length){this.$hiddenSections.stop().slideDown({easing:e.config.animationEasing,duration:e.config.animationDuration,step:function(){var f;if(window.Milenia&&window.Milenia.helpers&&window.Milenia.helpers.PageStretcher){window.Milenia.helpers.PageStretcher.stretch()}},complete:function(){d(this).css({height:"",display:""});if(window.Milenia&&window.Milenia.helpers&&window.Milenia.helpers.PageStretcher){window.Milenia.helpers.PageStretcher.stretch()}}})}return this.$hiddenSections};a.prototype._bindEvents=function(){var f=d(window),e=this;f.on("scroll.MileniaStickyHeaderSection",function(g){if(f.scrollTop()>e.topOffset&&!e.sticked&&e.isSuitable){e.sticky()}else{if(f.scrollTop()<=e.topOffset&&e.sticked&&e.isSuitable){e.unsticky()}}}).on("resize.MileniaStickyHeaderSection",function(g){if(e.resizeTimeOutId){clearTimeout(e.resizeTimeOutId)}e.resizeTimeOutId=setTimeout(function(){e.unsticky().updateDocumentState();if(f.scrollTop()>e.topOffset&&!e.sticked&&e.isSuitable){e.sticky()}if(!e.isSuitable){e.showSections()}},e.config.resizeDelay)}).trigger("scroll.MileniaStickyHeaderSection")};return a})(window.jQuery);