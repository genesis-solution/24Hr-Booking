var MileniaSidebarHidden=(function(e){var d=e("body"),a;var c={cssPrefix:"",classMap:{sidebar:"sidebar-hidden",invoker:"sidebar-hidden-btn",close:"sidebar-hidden-close",pushedContainer:"page-wrapper",active:"body--hidden-sidebar-opened",niceScrolled:"-nice-scrolled",sidebarActive:"hidden-sidebar--opened"}};function b(f){this.config=e.isPlainObject(f)?e.extend(true,{},c,f):c;Object.defineProperties(this,{sidebarClass:{get:function(){return this.config.cssPrefix+this.config.classMap.sidebar}},sidebarSelector:{get:function(){return"."+this.sidebarClass}},invokerClass:{get:function(){return this.config.cssPrefix+this.config.classMap.invoker}},invokerSelector:{get:function(){return"."+this.invokerClass}},niceScrolledClass:{get:function(){return this.config.cssPrefix+this.config.classMap.niceScrolled}},niceScrolledSelector:{get:function(){return"."+this.niceScrolledClass}},closeClass:{get:function(){return this.config.cssPrefix+this.config.classMap.close}},closeSelector:{get:function(){return"."+this.closeClass}},activeClass:{get:function(){return this.config.cssPrefix+this.config.classMap.active}},sidebarActiveClass:{get:function(){return this.config.cssPrefix+this.config.classMap.sidebarActive}}});this.initialize()}b.prototype.initialize=function(){var f=this;d.off("click.MileniaSidebarHidden").on("click.MileniaSidebarHidden",f.invokerSelector,function(i){var h=e(this),g=e(h.data("sidebar-hidden"));if(!g.length){return}f.toggle(h);i.preventDefault()}).on("click.MileniaSidebarHidden",f.closeSelector,function(i){var h=e(this),g=e(h.data("sidebar-hidden"));if(!g.length){return}f.hide(h);i.preventDefault()});e(document).off("keydown.MileniaSidebarHidden").on("keydown.MileniaSidebarHidden",function(g){if(g.keyCode&&g.keyCode==27){f.hideAll()}}).off("click.MileniaSidebarHidden").on("click.MileniaSidebarHidden",function(h){var g=e(h.target);if(!g.closest(f.sidebarSelector+","+f.invokerSelector+", .fancybox-container, .arcticmodal-container, .arcticmodal-overlay").length){f.hideAll()}})};b.prototype.toggle=function(f){this.isOpened()?this.hide(f):this.show(f)};b.prototype.isOpened=function(){return d.hasClass(this.activeClass)};b.prototype.hide=function(h){var k=h.data("sidebar-hidden"),j=e(k),i=j.closest(this.niceScrolledSelector).add(j.find(this.niceScrolledSelector)),g=e('[data-sidebar-hidden="'+k+'"]'),f=parseFloat(j.css("transition-duration"),10)*1000;d.removeClass(this.activeClass);j.removeClass(this.sidebarActiveClass);g.attr("aria-expanded","false");j.attr("aria-hidden","true");if(i.length){a=setInterval(function(){i.getNiceScroll().resize()},4);setTimeout(function(){clearInterval(a)},f)}};b.prototype.show=function(h){var k=h.data("sidebar-hidden"),j=e(k),i=j.closest(this.niceScrolledSelector),g=e('[data-sidebar-hidden="'+k+'"]'),f=parseFloat(j.css("transition-duration"),10)*1000;d.addClass(this.activeClass);j.addClass(this.sidebarActiveClass);g.attr("aria-expanded","true");j.attr("aria-hidden","false");if(i.length){a=setInterval(function(){i.getNiceScroll().resize()},4);setTimeout(function(){clearInterval(a)},f)}};b.prototype.hideAll=function(){var g=e(this.invokerSelector),f=this;if(g.length){g.each(function(h,i){f.hide(e(i))})}};return b})(window.jQuery);