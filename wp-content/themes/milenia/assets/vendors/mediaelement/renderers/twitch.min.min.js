/*!
 * MediaElement.js
 * http://www.mediaelementjs.com/
 *
 * Wrapper that mimics native HTML5 MediaElement (audio and video)
 * using a variety of technologies (pure JavaScript, Flash, iframe)
 *
 * Copyright 2010-2017, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
(function e(h,j,l){function m(a,c){if(!j[a]){if(!h[a]){var d=typeof require=="function"&&require;if(!c&&d){return d(a,!0)}if(i){return i(a,!0)}var b=new Error("Cannot find module '"+a+"'");throw b.code="MODULE_NOT_FOUND",b}var f=j[a]={exports:{}};h[a][0].call(f.exports,function(g){var n=h[a][1][g];return m(n?n:g)},f,f.exports,e,h,j,l)}return j[a].exports}var i=typeof require=="function"&&require;for(var k=0;k<l.length;k++){m(l[k])}return m})({1:[function(z,y,s){var t={promise:null,load:function p(a){if(typeof Twitch!=="undefined"){t.promise=new Promise(function(b){b()}).then(function(){t._createPlayer(a)})}else{t.promise=t.promise||mejs.Utils.loadScript("https://player.twitch.tv/js/embed/v1.js");t.promise.then(function(){t._createPlayer(a)})}},_createPlayer:function w(a){var b=new Twitch.Player(a.id,a);window["__ready__"+a.id](b)},getTwitchId:function u(b){var a="";if(b.indexOf("?")>0){a=t.getTwitchIdFromParam(b);if(a===""){a=t.getTwitchIdFromUrl(b)}}else{a=t.getTwitchIdFromUrl(b)}return a},getTwitchIdFromParam:function v(h){if(h===undefined||h===null||!h.trim().length){return null}var b=h.split("?"),d=b[1].split("&");var c="";for(var g=0,f=d.length;g<f;g++){var a=d[g].split("=");if(~a[0].indexOf("channel")){c=a[1];break}else{if(~a[0].indexOf("video")){c="v"+a[1];break}}}return c},getTwitchIdFromUrl:function q(c){if(c===undefined||c===null||!c.trim().length){return null}var b=c.split("?");c=b[0];var a=c.substring(c.lastIndexOf("/")+1);return(/^\d+$/i.test(a)?"v"+a:a)},getTwitchType:function A(a){return(/^v\d+/i.test(a)?"video":"channel")}};var x={name:"twitch_iframe",options:{prefix:"twitch_iframe"},canPlayType:function o(a){return ~["video/twitch","video/x-twitch"].indexOf(a.toLowerCase())},create:function r(n,T,S){var b={},X=[],ad=4,R=t.getTwitchId(S[0].src);var Q=null,h=true,j=false,c=false,m=1,ae=Infinity,ac=0;b.options=T;b.id=n.id+"_"+T.prefix;b.mediaElement=n;var W=mejs.html5media.properties,f=function f(C){var B=""+C.substring(0,1).toUpperCase()+C.substring(1);b["get"+B]=function(){if(Q!==null){var E=null;switch(C){case"currentTime":ac=Q.getCurrentTime();return ac;case"duration":ae=Q.getDuration();return ae;case"volume":m=Q.getVolume();return m;case"paused":h=Q.isPaused();return h;case"ended":j=Q.getEnded();return j;case"muted":return Q.getMuted();case"buffered":return{start:function D(){return 0},end:function F(){return 0},length:1};case"src":return t.getTwitchType(R)==="channel"?Q.getChannel():Q.getVideo();case"readyState":return ad}return E}else{return null}};b["set"+B]=function(E){if(Q!==null){switch(C){case"src":var G=typeof E==="string"?E:E[0].src,D=t.getTwitchId(G);if(t.getTwitchType(R)==="channel"){Q.setChannel(D)}else{Q.setVideo(D)}break;case"currentTime":Q.seek(E);setTimeout(function(){var H=mejs.Utils.createEvent("timeupdate",b);n.dispatchEvent(H)},50);break;case"muted":Q.setMuted(E);setTimeout(function(){var H=mejs.Utils.createEvent("volumechange",b);n.dispatchEvent(H)},50);break;case"volume":m=E;Q.setVolume(E);setTimeout(function(){var H=mejs.Utils.createEvent("volumechange",b);n.dispatchEvent(H)},50);break;case"readyState":var F=mejs.Utils.createEvent("canplay",b);n.dispatchEvent(F);break;default:break}}else{X.push({type:"set",propName:C,value:E})}}};for(var l=0,a=W.length;l<a;l++){f(W[l])}var i=mejs.html5media.methods,g=function g(B){b[B]=function(){if(Q!==null){switch(B){case"play":h=false;return Q.play();case"pause":h=true;return Q.pause();case"load":return null}}else{X.push({type:"call",methodName:B})}}};for(var Z=0,ab=i.length;Z<ab;Z++){g(i[Z])}function aa(E){for(var B=0,C=E.length;B<C;B++){var D=mejs.Utils.createEvent(E[B],b);n.dispatchEvent(D)}}window["__ready__"+b.id]=function(F){n.twitchPlayer=Q=F;if(X.length){for(var B=0,H=X.length;B<H;B++){var D=X[B];if(D.type==="set"){var G=D.propName,J=""+G.substring(0,1).toUpperCase()+G.substring(1);b["set"+J](D.value)}else{if(D.type==="call"){b[D.methodName]()}}}}var L=document.getElementById(b.id).firstChild;L.style.width="100%";L.style.height="100%";var M=["mouseover","mouseout"],E=function E(N){var O=mejs.Utils.createEvent(N.type,b);n.dispatchEvent(O)};for(var C=0,I=M.length;C<I;C++){L.addEventListener(M[C],E,false)}var K=void 0;Q.addEventListener(Twitch.Player.READY,function(){h=false;j=false;aa(["rendererready","loadedmetadata","loadeddata","canplay"])});Q.addEventListener(Twitch.Player.PLAY,function(){if(!c){c=true}h=false;j=false;aa(["play","playing","progress"]);K=setInterval(function(){Q.getCurrentTime();aa(["timeupdate"])},250)});Q.addEventListener(Twitch.Player.PAUSE,function(){h=true;j=false;if(!Q.getEnded()){aa(["pause"])}});Q.addEventListener(Twitch.Player.ENDED,function(){h=true;j=true;aa(["ended"]);clearInterval(K);c=false;K=null})};var Y=n.originalNode.height,V=n.originalNode.width,k=document.createElement("div"),U=t.getTwitchType(R),d={id:b.id,width:V,height:Y,playsinline:false,autoplay:n.originalNode.autoplay,muted:n.originalNode.muted};d[U]=R;k.id=b.id;k.style.width="100%";k.style.height="100%";n.originalNode.parentNode.insertBefore(k,n.originalNode);n.originalNode.style.display="none";n.originalNode.autoplay=false;b.setSize=function(B,C){if(t!==null&&!isNaN(B)&&!isNaN(C)){k.setAttribute("width",B);k.setAttribute("height",C)}};b.hide=function(){b.pause();k.style.display="none"};b.show=function(){k.style.display=""};b.destroy=function(){};t.load(d);return b}};mejs.Utils.typeChecks.push(function(a){return(/\/\/(www|player).twitch.tv/i.test(a)?"video/x-twitch":null)});mejs.Renderers.add(x)},{}]},{},[1]);