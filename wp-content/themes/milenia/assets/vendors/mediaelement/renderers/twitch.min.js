/*!
 * MediaElement.js
 * http://www.mediaelementjs.com/
 *
 * Wrapper that mimics native HTML5 MediaElement (audio and video)
 * using a variety of technologies (pure JavaScript, Flash, iframe)
 *
 * Copyright 2010-2017, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
(function e(b,g,d){function c(m,j){if(!g[m]){if(!b[m]){var i=typeof require=="function"&&require;if(!j&&i){return i(m,!0)}if(a){return a(m,!0)}var k=new Error("Cannot find module '"+m+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[m]={exports:{}};b[m][0].call(h.exports,function(l){var o=b[m][1][l];return c(o?o:l)},h,h.exports,e,b,g,d)}return g[m].exports}var a=typeof require=="function"&&require;for(var f=0;f<d.length;f++){c(d[f])}return c})({1:[function(b,c,j){var i={promise:null,load:function m(o){if(typeof Twitch!=="undefined"){i.promise=new Promise(function(p){p()}).then(function(){i._createPlayer(o)})}else{i.promise=i.promise||mejs.Utils.loadScript("https://player.twitch.tv/js/embed/v1.js");i.promise.then(function(){i._createPlayer(o)})}},_createPlayer:function f(p){var o=new Twitch.Player(p.id,p);window["__ready__"+p.id](o)},getTwitchId:function h(o){var p="";if(o.indexOf("?")>0){p=i.getTwitchIdFromParam(o);if(p===""){p=i.getTwitchIdFromUrl(o)}}else{p=i.getTwitchIdFromUrl(o)}return p},getTwitchIdFromParam:function g(o){if(o===undefined||o===null||!o.trim().length){return null}var t=o.split("?"),r=t[1].split("&");var s="";for(var p=0,q=r.length;p<q;p++){var u=r[p].split("=");if(~u[0].indexOf("channel")){s=u[1];break}else{if(~u[0].indexOf("video")){s="v"+u[1];break}}}return s},getTwitchIdFromUrl:function l(o){if(o===undefined||o===null||!o.trim().length){return null}var p=o.split("?");o=p[0];var q=o.substring(o.lastIndexOf("/")+1);return(/^\d+$/i.test(q)?"v"+q:q)},getTwitchType:function a(o){return(/^v\d+/i.test(o)?"video":"channel")}};var d={name:"twitch_iframe",options:{prefix:"twitch_iframe"},canPlayType:function n(o){return ~["video/twitch","video/x-twitch"].indexOf(o.toLowerCase())},create:function k(w,u,F){var O={},D=[],p=4,v=i.getTwitchId(F[0].src);var G=null,K=true,y=false,N=false,H=1,o=Infinity,A=0;O.options=u;O.id=w.id+"_"+u.prefix;O.mediaElement=w;var s=mejs.html5media.properties,L=function L(Q){var R=""+Q.substring(0,1).toUpperCase()+Q.substring(1);O["get"+R]=function(){if(G!==null){var T=null;switch(Q){case"currentTime":A=G.getCurrentTime();return A;case"duration":o=G.getDuration();return o;case"volume":H=G.getVolume();return H;case"paused":K=G.isPaused();return K;case"ended":y=G.getEnded();return y;case"muted":return G.getMuted();case"buffered":return{start:function U(){return 0},end:function S(){return 0},length:1};case"src":return i.getTwitchType(v)==="channel"?G.getChannel():G.getVideo();case"readyState":return p}return T}else{return null}};O["set"+R]=function(U){if(G!==null){switch(Q){case"src":var S=typeof U==="string"?U:U[0].src,V=i.getTwitchId(S);if(i.getTwitchType(v)==="channel"){G.setChannel(V)}else{G.setVideo(V)}break;case"currentTime":G.seek(U);setTimeout(function(){var W=mejs.Utils.createEvent("timeupdate",O);w.dispatchEvent(W)},50);break;case"muted":G.setMuted(U);setTimeout(function(){var W=mejs.Utils.createEvent("volumechange",O);w.dispatchEvent(W)},50);break;case"volume":H=U;G.setVolume(U);setTimeout(function(){var W=mejs.Utils.createEvent("volumechange",O);w.dispatchEvent(W)},50);break;case"readyState":var T=mejs.Utils.createEvent("canplay",O);w.dispatchEvent(T);break;default:break}}else{D.push({type:"set",propName:Q,value:U})}}};for(var I=0,P=s.length;I<P;I++){L(s[I])}var J=mejs.html5media.methods,z=function z(Q){O[Q]=function(){if(G!==null){switch(Q){case"play":K=false;return G.play();case"pause":K=true;return G.pause();case"load":return null}}else{D.push({type:"call",methodName:Q})}}};for(var r=0,B=J.length;r<B;r++){z(J[r])}function q(Q){for(var T=0,S=Q.length;T<S;T++){var R=mejs.Utils.createEvent(Q[T],O);w.dispatchEvent(R)}}window["__ready__"+O.id]=function(W){w.twitchPlayer=G=W;if(D.length){for(var aa=0,U=D.length;aa<U;aa++){var Y=D[aa];if(Y.type==="set"){var V=Y.propName,S=""+V.substring(0,1).toUpperCase()+V.substring(1);O["set"+S](Y.value)}else{if(Y.type==="call"){O[Y.methodName]()}}}}var Q=document.getElementById(O.id).firstChild;Q.style.width="100%";Q.style.height="100%";var ab=["mouseover","mouseout"],X=function X(ad){var ac=mejs.Utils.createEvent(ad.type,O);w.dispatchEvent(ac)};for(var Z=0,T=ab.length;Z<T;Z++){Q.addEventListener(ab[Z],X,false)}var R=void 0;G.addEventListener(Twitch.Player.READY,function(){K=false;y=false;q(["rendererready","loadedmetadata","loadeddata","canplay"])});G.addEventListener(Twitch.Player.PLAY,function(){if(!N){N=true}K=false;y=false;q(["play","playing","progress"]);R=setInterval(function(){G.getCurrentTime();q(["timeupdate"])},250)});G.addEventListener(Twitch.Player.PAUSE,function(){K=true;y=false;if(!G.getEnded()){q(["pause"])}});G.addEventListener(Twitch.Player.ENDED,function(){K=true;y=true;q(["ended"]);clearInterval(R);N=false;R=null})};var C=w.originalNode.height,E=w.originalNode.width,x=document.createElement("div"),t=i.getTwitchType(v),M={id:O.id,width:E,height:C,playsinline:false,autoplay:w.originalNode.autoplay,muted:w.originalNode.muted};M[t]=v;x.id=O.id;x.style.width="100%";x.style.height="100%";w.originalNode.parentNode.insertBefore(x,w.originalNode);w.originalNode.style.display="none";w.originalNode.autoplay=false;O.setSize=function(R,Q){if(i!==null&&!isNaN(R)&&!isNaN(Q)){x.setAttribute("width",R);x.setAttribute("height",Q)}};O.hide=function(){O.pause();x.style.display="none"};O.show=function(){x.style.display=""};O.destroy=function(){};i.load(M);return O}};mejs.Utils.typeChecks.push(function(o){return(/\/\/(www|player).twitch.tv/i.test(o)?"video/x-twitch":null)});mejs.Renderers.add(d)},{}]},{},[1]);