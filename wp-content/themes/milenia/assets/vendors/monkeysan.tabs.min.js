(function(b){var c=b(document);function a(e,d){this.el=e;this.config={speed:b.fx.speed,easing:"linear",cssPrefix:"",afterOpen:function(){},afterClose:function(){},afterInit:function(){}};d=d||{};b.extend(this.config,d);this.activeClass=this.config.cssPrefix+"active";this.nav=this.el.find("."+this.config.cssPrefix+"tabs-nav");this.tabsContainer=this.el.find("."+this.config.cssPrefix+"tabs-container");this.tabs=this.tabsContainer.find("."+this.config.cssPrefix+"tab");this.tabLinkClass=this.config.cssPrefix+"tab-link";this.toDefaultState();this.bindEvents()}a.prototype.toDefaultState=function(){var e=this.nav.find("."+this.activeClass);if(!e.length){e=this.nav.find("li").first();e.addClass(this.activeClass)}var d=b(e.children("."+this.tabLinkClass).attr("href"));if(d.length){this.tabsContainer.css({position:"relative"});this.tabs.css({position:"absolute",top:0,left:0,width:"100%"});this.tabs.not(d).css({opacity:0,visibility:"hidden"});this.openTab(d)}this.config.afterInit.call(this)};a.prototype.bindEvents=function(){var d=this;this.nav.on("click","."+this.tabLinkClass,{self:this},function(i){i.preventDefault();var h=b(this),f=i.data.self,g=b(h.attr("href"));if(h.parent().hasClass(f.activeClass)){return false}h.attr("aria-selected","true").parent().addClass(f.activeClass).siblings().removeClass(f.activeClass).children("."+f.tabLinkClass).attr("aria-selected","false");if(g.length){f.openTab(g)}});b(window).on("resize.tabs",function(){d.updateContainer()})};a.prototype.updateContainer=function(){var d=this;if(d.timeOutId){clearTimeout(d.timeOutId)}d.timeOutId=setTimeout(function(){var e=d.tabsContainer.find("."+d.activeClass).outerHeight();d.tabsContainer.stop().animate({height:e},{complete:function(){clearTimeout(d.timeOutId);c.trigger("container.updated.mokeysan.tabs",[b(this)])},duration:d.config.speed,easing:d.config.easing})},100)};a.prototype.openTab=function(f){var d=this,e=f.outerHeight(),g=f.siblings("."+this.activeClass);if(g.length){this.closeTab(g)}f.addClass(this.activeClass).siblings().removeClass(this.activeClass);this.tabsContainer.stop().animate({height:e},{duration:d.config.speed,easing:d.config.easing,complete:function(){c.trigger("container.updated.mokeysan.tabs",[b(this)])}});f.css("visibility","visible").stop().animate({opacity:1},{complete:function(){d.config.afterOpen.call(b(this))},duration:d.config.speed,easing:d.config.easing})};a.prototype.closeTab=function(e){var d=this;e.stop().animate({opacity:0},{complete:function(){var f=b(this);f.css("visibility","hidden");d.config.afterClose.call(f)},duration:d.config.speed,easing:d.config.easing})};b.fn.MonkeysanTabs=function(d){return this.each(function(){var e=b(this);if(!e.data("tabs")){e.data("tabs",new a(e,d))}})}})(jQuery);