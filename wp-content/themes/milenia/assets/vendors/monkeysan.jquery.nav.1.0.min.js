(function(f){var h={cssPrefix:"",mobileBreakpoint:767,movingToAnotherPageDelay:700,classes:{desktopActive:"selected",tabletActive:"tapped",mobileActive:"tapped",reverse:"reverse",mobileBtnAdditionalClass:"",bodyMovingToAnotherPage:"body--moving-to-another-page"},mobileAnimation:{easing:"easeOutQuint",speed:350}};var e=getComputedStyle(document.body).direction==="rtl";function b(j,m){var l=j.outerWidth(),k=f(window).width();if(e){if(j.offset().left<=0){j.addClass(m)}}else{var n=j.offset().left;if(n+l>k){j.addClass(m)}}}function a(l,k){var m=f(window),j=this;this.config=f.extend({},h,l);Object.defineProperties(this,{element:{get:function(){return k}}});m.on("resize.MonkeysanNav",function(){if(j.timeOutId){clearTimeout(j.timeOutId)}j.timeOutId=setTimeout(function(){j._refresh()},100)});this._refresh()}a.prototype._refresh=function(){if(f(window).width()<=this.config.mobileBreakpoint&&!(this.state instanceof g)){if(this.state){this.state.destroy()}this.state=new g(this.config,this.element);this.state.init()}else{if(f(window).width()>=this.config.mobileBreakpoint){if(Modernizr.touchevents){if(!(this.state instanceof d)){if(this.state){this.state.destroy()}this.state=new d(this.config,this.element);this.state.init()}}else{if(!(this.state instanceof i)){if(this.state){this.state.destroy()}this.state=new i(this.config,this.element);this.state.init()}}}}};function c(k,j){Object.defineProperties(this,{activeClass:{get:function(){return this.prefix+k.classes.desktopActive},configurable:true,enumerable:true},reverseClass:{get:function(){return this.prefix+k.classes.reverse},configurable:true,enumerable:true},element:{get:function(){return j},configurable:false,enumerable:false},classPrefix:{get:function(){return"."+k.cssPrefix},configurable:false,enumerable:false},prefix:{get:function(){return k.cssPrefix}},config:{get:function(){return k},configurable:false,enumerable:false}})}function i(k,j){c.call(this,k,j)}i.prototype.init=function(){var j=this;j.element.on("click",'a:not([target="_blank"])',function(l){var m=f(this),k=m.attr("href");if(k=="#"){return}l.preventDefault();f("body").addClass(j.config.cssPrefix+j.config.classes.bodyMovingToAnotherPage);setTimeout(function(){window.location.href=k},j.config.movingToAnotherPageDelay)});j.element.on("mouseenter.MonkeysanNavDesktop",j.classPrefix+"has-children, .menu-item-has-children",function(m){var l=f(this),k=l.children(j.classPrefix+"sub-menu, .sub-menu");if(!l.hasClass(j.activeClass)){if(k.length){if(k.data("timeOutId")){clearTimeout(k.data("timeOutId"))}b(k,j.reverseClass)}l.addClass(j.activeClass)}m.stopPropagation();m.preventDefault()});j.element.on("mouseleave.MonkeysanNavDesktop",j.classPrefix+"has-children."+j.activeClass+", .menu-item-has-children."+j.activeClass,function(l){var k=f(this);k.removeClass(j.activeClass);l.preventDefault()});j.element.on("mouseleave.MonkeysanNavDesktop",function(k){f(this).find(j.classPrefix+"has-children."+j.activeClass+", .menu-item-has-children."+j.activeClass).removeClass(j.activeClass);f(this).find("."+j.reverseClass).each(function(l,m){var n=f(m);n.data("timeOutId",setTimeout(function(){n.removeClass(j.reverseClass)},350))});k.stopPropagation();k.preventDefault()})};i.prototype.destroy=function(){this.element.off(".MonkeysanNavDesktop");this.element.find(this.classPrefix+this.activeClass).removeClass(this.activeClass)};function d(k,j){c.call(this,k,j);Object.defineProperty(this,"activeClass",{get:function(){return this.prefix+k.classes.tabletActive},configurable:false})}d.prototype.init=function(){var j=this,l=this.element,k=this.prefix+"prevented";l.on("click.MonkeysanNavTablet","a",function(q){var o=f(this),n=o.attr("href");j.closeAllSubMenus(o.parents("."+j.activeClass));if(o.parent(".menu-item-has-children").length&&!o.hasClass(k)){o.addClass(k);var p=o.parent(),m=p.children(j.classPrefix+"sub-menu, .sub-menu");if(!p.hasClass(j.activeClass)){if(m.length){if(m.data("timeOutId")){clearTimeout(m.data("timeOutId"))}b(m,j.reverseClass)}p.addClass(j.activeClass)}q.stopPropagation();q.preventDefault()}else{if(n=="#"){return}q.preventDefault();f("body").addClass(j.config.cssPrefix+j.config.classes.bodyMovingToAnotherPage);setTimeout(function(){window.location.href=n},j.config.movingToAnotherPageDelay)}});f(document).on("click.MonkeysanNavTablet",function(m){m.stopPropagation();if(!f(m.target).closest(j.element).length){j.closeAllSubMenus()}})};d.prototype.closeAllSubMenus=function(m){var j=this,o=j.element.find("."+j.activeClass),k=this.prefix+"prevented",l=this.classPrefix+"prevented";if(m){o=o.not(m)}if(o.length){var n=o.children(j.classPrefix+"sub-menu, .sub-menu");if(n.length){n.each(function(q,r){var p=f(r);p.data("timeOutId",setTimeout(function(){p.removeClass(j.reverseClass)},350))})}o.removeClass(j.activeClass).children(l).removeClass(k)}};d.prototype.destroy=function(){this.element.off(".MonkeysanNavTablet");this.closeAllSubMenus()};function g(k,j){c.call(this,k,j);Object.defineProperty(this,"activeClass",{get:function(){return this.prefix+k.classes.mobileActive},configurable:false})}g.prototype.init=function(){var k=this,j=k.prefix+"mobile-nav-btn";k.element.add(k.element.find(k.classPrefix+"sub-menu, .sub-menu")).hide();var m="."+j;if(!f(m).length){if(f(".milenia-header-justify").length){var l=f("<button></button>",{"class":j});f(".milenia-header-justify").append(l);l.on("click.MonkeysanNavMobile",function(n){f(this).toggleClass(k.prefix+"opened");k.element.stop().slideToggle({duration:k.config.mobileAnimation.speed,easing:k.config.mobileAnimation.easing,step:function(){k.element.trigger("navigationopening.jquery.nav",[k.element])}});n.stopPropagation();n.preventDefault()})}}k.element.on("click.MonkeysanNavMobile","a",function(r){var o=f(this),n=o.attr("href"),p=k.prefix+"prevented";if(o.parent(".menu-item-has-children").length&&!o.hasClass(p)){o.addClass(p);var q=o.parent();q.addClass(k.activeClass).children(k.classPrefix+"sub-menu, .sub-menu").stop().slideDown({duration:k.config.mobileAnimation.speed,easing:k.config.mobileAnimation.easing,step:function(){k.element.trigger("submenumobileopening.jquery.nav",[f(this)])},complete:function(){k.element.trigger("submenumobileopened.jquery.nav",[f(this)])}}).parent().siblings("."+k.activeClass).removeClass(k.activeClass).children("."+p).removeClass(p).siblings(k.classPrefix+"sub-menu, .sub-menu").stop().slideUp({duration:k.config.mobileAnimation.speed,easing:k.config.mobileAnimation.easing,step:function(){k.element.trigger("submenumobileclosing.jquery.nav",[f(this)])},complete:function(){k.element.trigger("submenumobileclosed.jquery.nav",[f(this)])}});r.preventDefault();r.stopPropagation()}else{if(n=="#"){return}r.preventDefault();f("body").addClass(k.config.cssPrefix+k.config.classes.bodyMovingToAnotherPage);setTimeout(function(){window.location.href=n},k.config.movingToAnotherPageDelay)}})};g.prototype.destroy=function(){this.element.show().off(".MonkeysanNavMobile").prev(this.classPrefix+"mobile-nav-btn").removeClass(this.prefix+"opened").end().find("."+this.activeClass).removeClass(this.activeClass).end().find(this.classPrefix+"prevented").removeClass(this.prefix+"prevented").end().find(this.classPrefix+"sub-menu, .sub-menu").show()};f.fn.MonkeysanNav=function(j){return this.each(function(k,l){var m=f(l);if(!m.data("MonkeysanNav")){m.data("MonkeysanNav",new a(j,m))}})}})(jQuery);