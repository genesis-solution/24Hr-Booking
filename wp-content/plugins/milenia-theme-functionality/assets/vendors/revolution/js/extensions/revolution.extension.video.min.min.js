!function(m){var p=jQuery.fn.revolution,r=p.is_mobile(),g=(p.is_android(),{alias:"Video Min JS",name:"revolution.extensions.video.min.js",min_core:"5.4.8",version:"2.2.2"});function h(b){return null==b?-1:jQuery.isNumeric(b)?b:1<b.split(":").length?60*parseInt(b.split(":")[0],0)+parseInt(b.split(":")[1],0):b}jQuery.extend(!0,p,{preLoadAudio:function(j,b){if("stop"===p.compare_version(g).check){return !1}j.find(".tp-audiolayer").each(function(){var s=jQuery(this),k={};0===s.find("audio").length&&(k.src=null!=s.data("videomp4")?s.data("videomp4"):"",k.pre=s.data("videopreload")||"",void 0===s.attr("id")&&s.attr("audio-layer-"+Math.round(199999*Math.random())),k.id=s.attr("id"),k.status="prepared",k.start=jQuery.now(),k.waittime=1000*s.data("videopreloadwait")||5000,"auto"!=k.pre&&"canplaythrough"!=k.pre&&"canplay"!=k.pre&&"progress"!=k.pre||(void 0===b.audioqueue&&(b.audioqueue=[]),b.audioqueue.push(k),p.manageVideoLayer(s,b)))})},preLoadAudioDone:function(b,k,j){k.audioqueue&&0<k.audioqueue.length&&jQuery.each(k.audioqueue,function(u,s){b.data("videomp4")!==s.src||s.pre!==j&&"auto"!==s.pre||(s.status="loaded")})},resetVideo:function(y,C,A,x){var k=y.data();switch(k.videotype){case"youtube":k.player;try{if("on"==k.forcerewind){var z=-1==(w=h(y.data("videostartat"))),v=1===k.bgvideo||0<y.find(".tp-videoposter").length;null!=k.player&&(w=-1==w?0:w,k.player.seekTo(w),k.player.pauseVideo())}}catch(y){}0==y.find(".tp-videoposter").length&&1!==k.bgvideo&&!0!==A&&punchgs.TweenLite.to(y.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"vimeo":var b=y.data("vimeoplayer");try{if("on"==k.forcerewind){var w=h(k.videostartat);z=-1==w,v=1===k.bgvideo||0<y.find(".tp-videoposter").length;(0!==(w=-1==w?0:w)&&!z||v)&&b.pause().then(function(){b.setCurrentTime(w)})}}catch(y){}0==y.find(".tp-videoposter").length&&1!==k.bgvideo&&!0!==A&&punchgs.TweenLite.to(y.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"html5":if(r&&1==k.disablevideoonmobile){return !1}var D="html5"==k.audio?"audio":"video",B=y.find(D),j=B[0];if(punchgs.TweenLite.to(B,0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"on"==k.forcerewind&&!y.hasClass("videoisplaying")){try{w=h(k.videostartat);j.currentTime=-1==w?0:w}catch(y){}}("mute"==k.volume||p.lastToggleState(y.videomutetoggledby)||!0===C.globalmute)&&(j.muted=!0)}},isVideoMuted:function(s,k){var b=!1,j=s.data();switch(j.videotype){case"youtube":try{b=j.player.isMuted()}catch(s){}break;case"vimeo":try{"mute"==j.volume&&(b=!0)}catch(s){}break;case"html5":var u="html5"==j.audio?"audio":"video";s.find(u)[0].muted&&(b=!0)}return b},muteVideo:function(s,k){var b=s.data();switch(b.videotype){case"youtube":try{b.player.mute()}catch(s){}break;case"vimeo":try{var j=s.data("vimeoplayer");s.data("volume","mute"),j.setVolume(0)}catch(s){}break;case"html5":var u="html5"==b.audio?"audio":"video";s.find(u)[0].muted=!0}},unMuteVideo:function(s,k){if(!0!==k.globalmute){var b=s.data();switch(b.videotype){case"youtube":try{b.player.unMute()}catch(s){}break;case"vimeo":try{var j=s.data("vimeoplayer");s.data("volume","1"),j.setVolume(1)}catch(s){}break;case"html5":var u="html5"==b.audio?"audio":"video";s.find(u)[0].muted=!1}}},stopVideo:function(s,k){var b=s.data();switch(k.leaveViewPortBasedStop||(k.lastplayedvideos=[]),k.leaveViewPortBasedStop=!1,b.videotype){case"youtube":try{var j=b.player;if(2===j.getPlayerState()||5===j.getPlayerState()){return}j.pauseVideo(),b.youtubepausecalled=!0,setTimeout(function(){b.youtubepausecalled=!1},80)}catch(s){console.log("Issue at YouTube Video Pause:"),console.log(s)}break;case"vimeo":try{s.data("vimeoplayer").pause(),b.vimeopausecalled=!0,setTimeout(function(){b.vimeopausecalled=!1},80)}catch(s){console.log("Issue at Vimeo Video Pause:"),console.log(s)}break;case"html5":var v="html5"==b.audio?"audio":"video",u=s.find(v),w=u[0];null!=u&&null!=w&&w.pause()}},playVideo:function(y,v){clearTimeout(y.data("videoplaywait"));var w=y.data();switch(w.videotype){case"youtube":if(0==y.find("iframe").length){y.append(y.data("videomarkup")),l(y,v,!0)}else{if(null!=w.player.playVideo){var z=h(y.data("videostartat")),j=w.player.getCurrentTime();1==y.data("nextslideatend-triggered")&&(j=-1,y.data("nextslideatend-triggered",0)),-1!=z&&j<z&&w.player.seekTo(z),!0!==w.youtubepausecalled&&w.player.playVideo()}else{y.data("videoplaywait",setTimeout(function(){!0!==w.youtubepausecalled&&p.playVideo(y,v)},50))}}break;case"vimeo":if(0==y.find("iframe").length){y.removeData("vimeoplayer"),y.append(y.data("videomarkup")),l(y,v,!0)}else{if(y.hasClass("rs-apiready")){var x,k=y.find("iframe").attr("id");y.data("vimeoplayer")?x=y.data("vimeoplayer"):(x=new Vimeo.Player(k),y.data("vimeoplayer",x)),x.getPaused()?setTimeout(function(){var B=h(y.data("videostartat")),s=y.data("currenttime");s||(s=0),1==y.data("nextslideatend-triggered")&&(s=-1,y.data("nextslideatend-triggered",0)),-1!=B&&s<B&&x.setCurrentTime(B),x.play()},510):y.data("videoplaywait",setTimeout(function(){!0!==w.vimeopausecalled&&p.playVideo(y,v)},50))}else{y.data("videoplaywait",setTimeout(function(){!0!==w.vimeopausecalled&&p.playVideo(y,v)},50))}}break;case"html5":var b="html5"==w.audio?"audio":"video",u=y.find(b),A=u[0];if(1!=u.parent().data("metaloaded")){a(A,"loadedmetadata",function(C){p.resetVideo(C,v),A.play();var B=h(C.data("videostartat")),s=A.currentTime;1==C.data("nextslideatend-triggered")&&(s=-1,C.data("nextslideatend-triggered",0)),-1!=B&&s<B&&(A.currentTime=B)}(y))}else{A.play();z=h(y.data("videostartat")),j=A.currentTime;1==y.data("nextslideatend-triggered")&&(j=-1,y.data("nextslideatend-triggered",0)),-1!=z&&j<z&&(A.currentTime=z)}}},isVideoPlaying:function(b,k){var j=!1;return null!=k.playingvideos&&jQuery.each(k.playingvideos,function(u,s){b.attr("id")==s.attr("id")&&(j=!0)}),j},removeMediaFromList:function(j,b){c(j,b)},prepareCoveredVideo:function(s,k){if((!k.hasClass("tp-caption")||k.hasClass("coverscreenvideo"))&&(void 0===k.data("vimeoid")||void 0!==k.data("vimeoplayerloaded"))){var b={};b.ifr=k.find("iframe, video"),b.asp=k.data("aspectratio"),b.wa=b.asp.split(":")[0],b.ha=b.asp.split(":")[1],b.vd=b.wa/b.ha;var j="carousel"!==s.sliderType?s.conw:k.closest(".tp-revslider-slidesli").width();if(0===j||0===s.conh){return p.setSize(s),clearTimeout(b.ifr.data("resizelistener")),void b.ifr.data("resizelistener",setTimeout(function(){p.prepareCoveredVideo(s,k)},100))}var v=j/s.conh,u=v/b.vd*100,w=b.vd/v*100;v>b.vd?punchgs.TweenLite.set(b.ifr,{height:u+"%",width:"100%",top:-(u-100)/2+"%",left:"0px",position:"absolute"}):punchgs.TweenLite.set(b.ifr,{width:w+"%",height:"100%",left:-(w-100)/2+"%",top:"0px",position:"absolute"}),b.ifr.hasClass("resizelistener")||(b.ifr.addClass("resizelistener"),jQuery(window).resize(function(){p.prepareCoveredVideo(s,k),clearTimeout(b.ifr.data("resizelistener")),b.ifr.data("resizelistener",setTimeout(function(){p.prepareCoveredVideo(s,k)},90))}))}},checkVideoApis:function(s,k,b){location.protocol;if((null!=s.data("ytid")||0<s.find("iframe").length&&0<s.find("iframe").attr("src").toLowerCase().indexOf("youtube"))&&(k.youtubeapineeded=!0),(null!=s.data("ytid")||0<s.find("iframe").length&&0<s.find("iframe").attr("src").toLowerCase().indexOf("youtube"))&&0==b.addedyt){k.youtubestarttime=jQuery.now(),b.addedyt=1;var j=document.createElement("script");j.src="https://www.youtube.com/iframe_api";var v=document.getElementsByTagName("script")[0],u=!0;jQuery("head").find("*").each(function(){"https://www.youtube.com/iframe_api"==jQuery(this).attr("src")&&(u=!1)}),u&&v.parentNode.insertBefore(j,v)}if((null!=s.data("vimeoid")||0<s.find("iframe").length&&0<s.find("iframe").attr("src").toLowerCase().indexOf("vimeo"))&&(k.vimeoapineeded=!0),(null!=s.data("vimeoid")||0<s.find("iframe").length&&0<s.find("iframe").attr("src").toLowerCase().indexOf("vimeo"))&&0==b.addedvim){k.vimeostarttime=jQuery.now(),b.addedvim=1;var w=document.createElement("script");v=document.getElementsByTagName("script")[0],u=!0;w.src="https://player.vimeo.com/api/player.js",jQuery("head").find("*").each(function(){"https://player.vimeo.com/api/player.js"==jQuery(this).attr("src")&&(u=!1)}),u&&v.parentNode.insertBefore(w,v)}return b},manageVideoLayer:function(W,O,aa,I){if("stop"===p.compare_version(g).check){return !1}var ae=W.data(),ab=ae.videoattributes,Q=ae.ytid,M=ae.vimeoid,S="auto"===ae.videopreload||"canplay"===ae.videopreload||"canplaythrough"===ae.videopreload||"progress"===ae.videopreload?"auto":ae.videopreload,J=ae.videomp4,H=ae.videowebm,N=ae.videoogv,G=ae.allowfullscreenvideo,ac=ae.videocontrols,R="http",Y="loop"==ae.videoloop?"loop":"loopandnoslidestop"==ae.videoloop?"loop":"",D=null!=J||null!=H?"html5":null!=Q&&1<String(Q).length?"youtube":null!=M&&1<String(M).length?"vimeo":"none",Z="html5"==ae.audio?"audio":"video",X="html5"==D&&0==W.find(Z).length?"html5":"youtube"==D&&0==W.find("iframe").length?"youtube":"vimeo"==D&&0==W.find("iframe").length?"vimeo":"none";switch(Y=!0===ae.nextslideatend?"":Y,ae.videotype=D,X){case"html5":"controls"!=ac&&(ac="");Z="video";"html5"==ae.audio&&(Z="audio",W.addClass("tp-audio-html5"));var ad="";"video"===Z&&(p.is_mobile()||p.isSafari11())&&("on"===ae.autoplay||"true"===ae.autoplay||!0===ae.autoplay?ad="muted playsinline autoplay":1!=ae.videoinline&&"true"!==ae.videoinline&&1!==ae.videoinline||(ad+=" playsinline"));var F="<"+Z+" "+ad+' style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+Y+' preload="'+S+'">';"auto"==S&&(O.mediapreload=!0),"video"===Z?(null!=H&&"firefox"==p.get_browser().toLowerCase()&&(F=F+'<source src="'+H+'" type="video/webm" />'),null!=J&&(F=F+'<source src="'+J+'" type="video/mp4" />'),null!=N&&(F=F+'<source src="'+N+'" type="video/ogg" />')):"audio"===Z&&(null!=J&&(F=F+'<source src="'+J+'" type="audio/mpeg" />'),null!=N&&(F=F+'<source src="'+N+'" type="audio/ogg" />')),F=F+"</"+Z+">";var z="";"true"!==G&&!0!==G||(z='<div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div>'),"controls"==ac&&(F=F+'<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div>'+z+"</div>"),W.data("videomarkup",F),W.append(F),(r&&1==W.data("disablevideoonmobile")||p.isIE(8))&&W.find(Z).remove(),W.find(Z).each(function(s){var k,b=jQuery(this);b.parent().hasClass("html5vid")||b.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>'),1!=b.parent().data("metaloaded")&&a(this,"loadedmetadata",(i(k=W,O),void p.resetVideo(k,O)))});break;case"youtube":R="https","none"==ac&&-1==(ab=ab.replace("controls=1","controls=0")).toLowerCase().indexOf("controls")&&(ab+="&controls=0"),(!0===ae.videoinline||"true"===ae.videoinline||1===ae.videoinline||W.hasClass("rs-background-video-layer")||"on"===W.data("autoplay"))&&(ab+="&playsinline=1");var U=h(W.data("videostartat")),E=h(W.data("videoendat"));-1!=U&&(ab=ab+"&start="+U),-1!=E&&(ab=ab+"&end="+E);var j=ab.split("origin="+R+"://"),B="";1<j.length?(B=j[0]+"origin="+R+"://",self.location.href.match(/www/gi)&&!j[1].match(/www/gi)&&(B+="www."),B+=j[1]):B=ab;var K="true"===G||!0===G?"allowfullscreen":"";W.data("videomarkup",'<iframe type="text/html" src="'+R+"://www.youtube-nocookie.com/embed/"+Q+"?"+B+'" '+K+' width="100%" height="100%" style="opacity:0;width:100%;height:100%"></iframe>');break;case"vimeo":R="https",W.data("videomarkup",'<iframe src="'+R+"://player.vimeo.com/video/"+M+"?"+ab+'" webkitallowfullscreen mozallowfullscreen allowfullscreen width="100%" height="100%" style="opacity:0;visibility:hidden;width:100%;height:100%"></iframe>')}var A=r&&"on"==W.data("noposteronmobile");if(null!=ae.videoposter&&2<ae.videoposter.length&&!A){0==W.find(".tp-videoposter").length&&W.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+ae.videoposter+'); background-size:cover;background-position:center center;"></div>'),0==W.find("iframe").length&&W.find(".tp-videoposter").click(function(){if(p.playVideo(W,O),r){if(1==W.data("disablevideoonmobile")){return !1}punchgs.TweenLite.to(W.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(W.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}})}else{if(r&&1==W.data("disablevideoonmobile")){return !1}0!=W.find("iframe").length||"youtube"!=D&&"vimeo"!=D||(W.removeData("vimeoplayer"),W.append(W.data("videomarkup")),l(W,O,!1))}"none"!=W.data("dottedoverlay")&&null!=W.data("dottedoverlay")&&1!=W.find(".tp-dottedoverlay").length&&W.append('<div class="tp-dottedoverlay '+W.data("dottedoverlay")+'"></div>'),W.addClass("HasListener"),1==W.data("bgvideo")&&(W.data("ytid")?punchgs.TweenLite.set(W.find("iframe"),{opacity:0}):punchgs.TweenLite.set(W.find("video, iframe"),{autoAlpha:0}))}});var a=function(k,j,b){k.addEventListener?k.addEventListener(j,b,{capture:!1,passive:!0}):k.attachEvent(j,b,{capture:!1,passive:!0})},n=function(s,k,b){var j={};return j.video=s,j.videotype=k,j.settings=b,j},q=function(k,j){if(1==j.data("bgvideo")||1==j.data("forcecover")){1===j.data("forcecover")&&j.removeClass("fullscreenvideo").addClass("coverscreenvideo");var b=j.data("aspectratio");void 0===b&&b.split(":").length<=1&&j.data("aspectratio","16:9"),p.prepareCoveredVideo(k,j)}},l=function(z,B,J){var E=z.data(),w=z.find("iframe"),M="iframe"+Math.round(100000*Math.random()+1),K=E.videoloop,C="loopandnoslidestop"!=K;if(K="loop"==K||"loopandnoslidestop"==K,q(B,z),w.attr("id",M),J&&z.data("startvideonow",!0),1!==z.data("videolistenerexist")){switch(E.videotype){case"youtube":var x=new YT.Player(M,{events:{onStateChange:function(y){var v=z.closest(".tp-simpleresponsive"),s=(E.videorate,z.data("videostart"),d());if(y.data==YT.PlayerState.PLAYING){punchgs.TweenLite.to(z.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(z.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"mute"==z.data("volume")||p.lastToggleState(z.data("videomutetoggledby"))||!0===B.globalmute?x.mute():(x.unMute(),x.setVolume(parseInt(z.data("volume"),0)||75)),B.videoplaying=!0,o(z,B),C?B.c.trigger("stoptimer"):B.videoplaying=!1,B.c.trigger("revolution.slide.onvideoplay",n(x,"youtube",z.data())),p.toggleState(E.videotoggledby)}else{if(0==y.data&&K){var u=h(z.data("videostartat"));-1!=u&&x.seekTo(u),x.playVideo(),p.toggleState(E.videotoggledby)}s||0!=y.data&&2!=y.data||!("on"==z.data("showcoveronpause")&&0<z.find(".tp-videoposter").length||1===z.data("bgvideo")&&0<z.find(".rs-fullvideo-cover").length)||(1===z.data("bgvideo")?punchgs.TweenLite.to(z.find(".rs-fullvideo-cover"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(z.find(".tp-videoposter"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(z.find("iframe"),0.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),-1!=y.data&&3!=y.data&&(B.videoplaying=!1,B.tonpause=!1,c(z,B),v.trigger("starttimer"),B.c.trigger("revolution.slide.onvideostop",n(x,"youtube",z.data())),null!=B.currentLayerVideoIsPlaying&&B.currentLayerVideoIsPlaying.attr("id")!=z.attr("id")||p.unToggleState(E.videotoggledby)),0==y.data&&1==z.data("nextslideatend")?(f(),z.data("nextslideatend-triggered",1),B.c.revnext(),c(z,B)):(c(z,B),B.videoplaying=!1,v.trigger("starttimer"),B.c.trigger("revolution.slide.onvideostop",n(x,"youtube",z.data())),null!=B.currentLayerVideoIsPlaying&&B.currentLayerVideoIsPlaying.attr("id")!=z.attr("id")||p.unToggleState(E.videotoggledby))}},onReady:function(y){var v,s=p.is_mobile(),u=z.hasClass("tp-videolayer");if(s||p.isSafari11()){var O=u&&"off"!==z.data("autoplay");if(z.hasClass("rs-background-video-layer")||O){s&&u||(v=!0,x.setVolume(0),z.data("volume","mute"),x.mute(),clearTimeout(z.data("mobilevideotimr")),z.data("mobilevideotimr",setTimeout(function(){x.playVideo()},500)))}}v||"mute"!=z.data("volume")||(x.setVolume(0),x.mute());var N=E.videorate;z.data("videostart");if(z.addClass("rs-apiready"),null!=N&&y.target.setPlaybackRate(parseFloat(N)),z.find(".tp-videoposter").unbind("click"),z.find(".tp-videoposter").click(function(){r||x.playVideo()}),z.data("startvideonow")){E.player.playVideo();var P=h(z.data("videostartat"));-1!=P&&E.player.seekTo(P)}z.data("videolistenerexist",1)}}});z.data("player",x);break;case"vimeo":for(var F,k=w.attr("src"),A={},j=k,L=/([^&=]+)=([^&]*)/g;F=L.exec(j);){A[decodeURIComponent(F[1])]=decodeURIComponent(F[2])}k=(k=null!=A.player_id?k.replace(A.player_id,M):k+"&player_id="+M).replace(/&api=0|&api=1/g,"");var D=p.is_mobile(),H=z.data("autoplay"),b=(z.data("volume"),D||p.isSafari11());z.hasClass("rs-background-video-layer");(H="on"===H||"true"===H||!0===H)&&b&&(k+="?autoplay=1&autopause=0&muted=1&background=1&playsinline=1",z.data({vimeoplaysinline:!0,volume:"mute"})),w.attr("src",k);x=z.find("iframe")[0],jQuery("#"+M);if(z.data("vimeoplayer")?G=z.data("vimeoplayer"):(G=new Vimeo.Player(M),z.data("vimeoplayer",G)),G.on("loaded",function(u){var s={};G.getVideoWidth().then(function(t){s.width=t,void 0!==s.width&&void 0!==s.height&&(z.data("aspectratio",s.width+":"+s.height),z.data("vimeoplayerloaded",!0),q(B,z))}),G.getVideoHeight().then(function(t){s.height=t,void 0!==s.width&&void 0!==s.height&&(z.data("aspectratio",s.width+":"+s.height),z.data("vimeoplayerloaded",!0),q(B,z))})}),z.addClass("rs-apiready"),G.on("play",function(s){z.data("nextslidecalled",0),punchgs.TweenLite.to(z.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(z.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),B.c.trigger("revolution.slide.onvideoplay",n(G,"vimeo",z.data())),B.videoplaying=!0,o(z,B),C?B.c.trigger("stoptimer"):B.videoplaying=!1,z.data("vimeoplaysinline")||("mute"==z.data("volume")||p.lastToggleState(z.data("videomutetoggledby"))||!0===B.globalmute?G.setVolume(0):G.setVolume(parseInt(z.data("volume"),0)/100||0.75),p.toggleState(E.videotoggledby))}),G.on("timeupdate",function(v){var u=h(z.data("videoendat"));if(z.data("currenttime",v.seconds),0!=u&&Math.abs(u-v.seconds)<1&&u>v.seconds&&1!=z.data("nextslidecalled")){if(K){G.play();var s=h(z.data("videostartat"));-1!=s&&G.setCurrentTime(s)}else{1==z.data("nextslideatend")&&(z.data("nextslideatend-triggered",1),z.data("nextslidecalled",1),B.c.revnext()),G.pause()}}}),G.on("ended",function(s){c(z,B),B.videoplaying=!1,B.c.trigger("starttimer"),B.c.trigger("revolution.slide.onvideostop",n(G,"vimeo",z.data())),1==z.data("nextslideatend")&&(z.data("nextslideatend-triggered",1),B.c.revnext()),null!=B.currentLayerVideoIsPlaying&&B.currentLayerVideoIsPlaying.attr("id")!=z.attr("id")||p.unToggleState(E.videotoggledby)}),G.on("pause",function(s){("on"==z.data("showcoveronpause")&&0<z.find(".tp-videoposter").length||1===z.data("bgvideo")&&0<z.find(".rs-fullvideo-cover").length)&&(1===z.data("bgvideo")?punchgs.TweenLite.to(z.find(".rs-fullvideo-cover"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(z.find(".tp-videoposter"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(z.find("iframe"),0.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),B.videoplaying=!1,B.tonpause=!1,c(z,B),B.c.trigger("starttimer"),B.c.trigger("revolution.slide.onvideostop",n(G,"vimeo",z.data())),null!=B.currentLayerVideoIsPlaying&&B.currentLayerVideoIsPlaying.attr("id")!=z.attr("id")||p.unToggleState(E.videotoggledby)}),z.find(".tp-videoposter").unbind("click"),z.find(".tp-videoposter").click(function(){if(!r){return G.play(),!1}}),z.data("startvideonow")){G.play(),-1!=(I=h(z.data("videostartat")))&&G.setCurrentTime(I)}z.data("videolistenerexist",1)}}else{var I=h(z.data("videostartat"));switch(E.videotype){case"youtube":J&&(E.player.playVideo(),-1!=I&&E.player.seekTo());break;case"vimeo":var G;if(J){(G=z.data("vimeoplayer")).play(),-1!=I&&G.seekTo(I)}}}},f=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},d=function(){try{if(void 0!==window.fullScreen){return window.fullScreen}var b=5;return jQuery.browser.webkit&&/Apple Computer/.test(navigator.vendor)&&(b=42),screen.width==window.innerWidth&&Math.abs(screen.height-window.innerHeight)<b}catch(b){}},i=function(k,C,B){if(r&&1==k.data("disablevideoonmobile")){return !1}var w=k.data(),H="html5"==w.audio?"audio":"video",E=k.find(H),b=E[0],z=E.parent(),y=w.videoloop,I="loopandnoslidestop"!=y;if(y="loop"==y||"loopandnoslidestop"==y,z.data("metaloaded",1),1!=k.data("bgvideo")||"none"!==w.videoloop&&!1!==w.videoloop||(I=!1),null==E.attr("control")&&(0!=k.find(".tp-video-play-button").length||r||k.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>'),k.find("video, .tp-poster, .tp-video-play-button").click(function(){k.hasClass("videoisplaying")?b.pause():b.play()})),1==k.data("forcecover")||k.hasClass("fullscreenvideo")||1==k.data("bgvideo")){if(1==k.data("forcecover")||1==k.data("bgvideo")){z.addClass("fullcoveredvideo");var G=k.data("aspectratio");void 0!==G&&1!=G.split(":").length||k.data("aspectratio","16:9"),p.prepareCoveredVideo(C,k)}else{z.addClass("fullscreenvideo")}}var j=k.find(".tp-vid-play-pause")[0],F=k.find(".tp-vid-mute")[0],D=k.find(".tp-vid-full-screen")[0],x=k.find(".tp-seek-bar")[0],A=k.find(".tp-volume-bar")[0];null!=j&&a(j,"click",function(){1==b.paused?b.play():b.pause()}),null!=F&&a(F,"click",function(){0==b.muted?(b.muted=!0,F.innerHTML="Unmute"):(b.muted=!1,F.innerHTML="Mute")}),null!=D&&D&&a(D,"click",function(){b.requestFullscreen?b.requestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.webkitRequestFullscreen&&b.webkitRequestFullscreen()}),null!=x&&(a(x,"change",function(){var s=b.duration*(x.value/100);b.currentTime=s}),a(x,"mousedown",function(){k.addClass("seekbardragged"),b.pause()}),a(x,"mouseup",function(){k.removeClass("seekbardragged"),b.play()})),a(b,"canplaythrough",function(){p.preLoadAudioDone(k,C,"canplaythrough")}),a(b,"canplay",function(){p.preLoadAudioDone(k,C,"canplay")}),a(b,"progress",function(){p.preLoadAudioDone(k,C,"progress")}),a(b,"timeupdate",function(){var J=100/b.duration*b.currentTime,v=h(k.data("videoendat")),s=b.currentTime;if(null!=x&&(x.value=J),0!=v&&-1!=v&&Math.abs(v-s)<=0.3&&s<v&&1!=k.data("nextslidecalled")){if(y){b.play();var u=h(k.data("videostartat"));-1!=u&&(b.currentTime=u)}else{1==k.data("nextslideatend")&&(k.data("nextslideatend-triggered",1),k.data("nextslidecalled",1),C.just_called_nextslide_at_htmltimer=!0,C.c.revnext(),setTimeout(function(){C.just_called_nextslide_at_htmltimer=!1},1000)),b.pause()}}}),null!=A&&a(A,"change",function(){b.volume=A.value}),a(b,"play",function(){k.data("nextslidecalled",0);var J=k.data("volume");J=null!=J&&"mute"!=J?parseFloat(J)/100:J,p.is_mobile()||p.isSafari11()||(!0===C.globalmute?b.muted=!0:b.muted=!1,1<J&&(J/=100),"mute"==J?b.muted=!0:null!=J&&(b.volume=J)),k.addClass("videoisplaying");var v="html5"==w.audio?"audio":"video";o(k,C),I&&"audio"!=v?(C.videoplaying=!0,C.c.trigger("stoptimer"),C.c.trigger("revolution.slide.onvideoplay",n(b,"html5",w))):(C.videoplaying=!1,"audio"!=v&&C.c.trigger("starttimer"),C.c.trigger("revolution.slide.onvideostop",n(b,"html5",w))),punchgs.TweenLite.to(k.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(k.find(v),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});var s=k.find(".tp-vid-play-pause")[0],u=k.find(".tp-vid-mute")[0];null!=s&&(s.innerHTML="Pause"),null!=u&&b.muted&&(u.innerHTML="Unmute"),p.toggleState(w.videotoggledby)}),a(b,"pause",function(v){var u="html5"==w.audio?"audio":"video";!d()&&0<k.find(".tp-videoposter").length&&"on"==k.data("showcoveronpause")&&!k.hasClass("seekbardragged")&&(punchgs.TweenLite.to(k.find(".tp-videoposter"),0.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(k.find(u),0.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),k.removeClass("videoisplaying"),C.videoplaying=!1,c(k,C),"audio"!=u&&C.c.trigger("starttimer"),C.c.trigger("revolution.slide.onvideostop",n(b,"html5",k.data()));var s=k.find(".tp-vid-play-pause")[0];null!=s&&(s.innerHTML="Play"),null!=C.currentLayerVideoIsPlaying&&C.currentLayerVideoIsPlaying.attr("id")!=k.attr("id")||p.unToggleState(w.videotoggledby)}),a(b,"ended",function(){f(),c(k,C),C.videoplaying=!1,c(k,C),"audio"!=H&&C.c.trigger("starttimer"),C.c.trigger("revolution.slide.onvideostop",n(b,"html5",k.data())),!0===k.data("nextslideatend")&&0<b.currentTime&&(1==!C.just_called_nextslide_at_htmltimer&&(k.data("nextslideatend-triggered",1),C.c.revnext(),C.just_called_nextslide_at_htmltimer=!0),setTimeout(function(){C.just_called_nextslide_at_htmltimer=!1},1500)),k.removeClass("videoisplaying")})},o=function(j,b){null==b.playingvideos&&(b.playingvideos=new Array),j.data("stopallvideos")&&null!=b.playingvideos&&0<b.playingvideos.length&&(b.lastplayedvideos=jQuery.extend(!0,[],b.playingvideos),jQuery.each(b.playingvideos,function(s,k){p.stopVideo(k,b)})),b.playingvideos.push(j),b.currentLayerVideoIsPlaying=j},c=function(j,b){null!=b.playingvideos&&0<=jQuery.inArray(j,b.playingvideos)&&b.playingvideos.splice(jQuery.inArray(j,b.playingvideos),1)}}(jQuery);