(function(d){var f=d(document);function e(a,b){this.el=a;this.config={speed:d.fx.speed,easing:"linear",cssPrefix:"",afterOpen:function(){},afterClose:function(){},afterInit:function(){}};b=b||{};d.extend(this.config,b);this.activeClass=this.config.cssPrefix+"active";this.nav=this.el.find("."+this.config.cssPrefix+"tabs-nav");this.tabsContainer=this.el.find("."+this.config.cssPrefix+"tabs-container");this.tabs=this.tabsContainer.find("."+this.config.cssPrefix+"tab");this.tabLinkClass=this.config.cssPrefix+"tab-link";this.toDefaultState();this.bindEvents()}e.prototype.toDefaultState=function(){var a=this.nav.find("."+this.activeClass);if(!a.length){a=this.nav.find("li").first();a.addClass(this.activeClass)}var b=d(a.children("."+this.tabLinkClass).attr("href"));if(b.length){this.tabsContainer.css({position:"relative"});this.tabs.css({position:"absolute",top:0,left:0,width:"100%"});this.tabs.not(b).css({opacity:0,visibility:"hidden"});this.openTab(b)}this.config.afterInit.call(this)};e.prototype.bindEvents=function(){var a=this;this.nav.on("click","."+this.tabLinkClass,{self:this},function(b){b.preventDefault();var c=d(this),k=b.data.self,j=d(c.attr("href"));if(c.parent().hasClass(k.activeClass)){return false}c.attr("aria-selected","true").parent().addClass(k.activeClass).siblings().removeClass(k.activeClass).children("."+k.tabLinkClass).attr("aria-selected","false");if(j.length){k.openTab(j)}});d(window).on("resize.tabs",function(){a.updateContainer()})};e.prototype.updateContainer=function(){var a=this;if(a.timeOutId){clearTimeout(a.timeOutId)}a.timeOutId=setTimeout(function(){var b=a.tabsContainer.find("."+a.activeClass).outerHeight();a.tabsContainer.stop().animate({height:b},{complete:function(){clearTimeout(a.timeOutId);f.trigger("container.updated.mokeysan.tabs",[d(this)])},duration:a.config.speed,easing:a.config.easing})},100)};e.prototype.openTab=function(b){var h=this,c=b.outerHeight(),a=b.siblings("."+this.activeClass);if(a.length){this.closeTab(a)}b.addClass(this.activeClass).siblings().removeClass(this.activeClass);this.tabsContainer.stop().animate({height:c},{duration:h.config.speed,easing:h.config.easing,complete:function(){f.trigger("container.updated.mokeysan.tabs",[d(this)])}});b.css("visibility","visible").stop().animate({opacity:1},{complete:function(){h.config.afterOpen.call(d(this))},duration:h.config.speed,easing:h.config.easing})};e.prototype.closeTab=function(a){var b=this;a.stop().animate({opacity:0},{complete:function(){var c=d(this);c.css("visibility","hidden");b.config.afterClose.call(c)},duration:b.config.speed,easing:b.config.easing})};d.fn.MonkeysanTabs=function(a){return this.each(function(){var b=d(this);if(!b.data("tabs")){b.data("tabs",new e(b,a))}})}})(jQuery);