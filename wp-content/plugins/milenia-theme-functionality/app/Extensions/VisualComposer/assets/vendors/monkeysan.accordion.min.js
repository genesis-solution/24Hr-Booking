(function(b){function a(d,c){this.el=d;this.config={toggle:!1,easing:"linear",speed:350,afterOpen:function(){},afterClose:function(){},cssPrefix:""};c=c||{};b.extend(this.config,c);this.titleClass=this.config.cssPrefix+"panels-title";this.defClass=this.config.cssPrefix+"panels-definition";this.activeClass=this.config.cssPrefix+"panels-active";this.toDefaultState();this.bindEvents()}a.prototype.toDefaultState=function(){var c=this.el.find("."+this.activeClass);c.length||(c=this.el.find("."+this.titleClass).eq(0).addClass(this.activeClass));if(this.config.toggle){return this.el.find("."+this.titleClass).next("."+this.defClass).hide(),c.next("."+this.defClass).show(),!1}c.next("."+this.defClass).siblings("."+this.defClass).hide()};a.prototype.bindEvents=function(){var c=this;this.el.on("click","."+c.titleClass,function(d){var e=b(this);d.preventDefault();c.config.toggle?c.toggleHandler(e):c.accordionHandler(e)})};a.prototype.accordionHandler=function(d){var e=d.find('button[type="button"]'),c;if(d.hasClass(this.activeClass)){if(e.length){e.attr("aria-expanded","false")}if(d.filter("[aria-expanded]").length){d.attr("aria-expanded","false")}return d.removeClass(this.activeClass).next("."+this.defClass).stop().slideUp({duration:this.config.speed,easing:this.config.easing,complete:this.config.afterClose.bind(d.next("."+this.defClass))})}if(e.length){e.attr("aria-expanded","true");c=d.siblings("."+this.titleClass).find('button[type="button"]').attr("aria-expanded","false");if(c.length){c.attr("aria-expanded","false")}}if(d.filter("[aria-expanded]").length){d.attr("aria-expanded","true").siblings("."+this.titleClass).attr("aria-expanded","false")}d.addClass(this.activeClass).next("."+this.defClass).stop().slideDown({duration:this.config.speed,easing:this.config.easing,complete:this.config.afterOpen.bind(d.next("."+this.defClass))}).siblings("."+this.defClass).stop().slideUp({duration:this.config.speed,easing:this.config.easing,complete:this.config.afterClose.bind(d.next("."+this.defClass))}).prev("."+this.titleClass).removeClass(this.activeClass)};a.prototype.toggleHandler=function(c){var d=c.find('button[type="button"]');if(d.length){d.attr("aria-expanded",c.hasClass(this.activeClass)?"false":"true")}if(c.filter("[aria-expanded]").length){c.attr("aria-expanded",c.hasClass(this.activeClass)?"false":"true")}c.hasClass(this.activeClass)?c.removeClass(this.activeClass).next("."+this.defClass).stop().slideUp({duration:this.config.speed,easing:this.config.easing,complete:this.config.afterClose.bind(c.next("."+this.defClass))}):c.addClass(this.activeClass).next("."+this.defClass).stop().slideDown({duration:this.config.speed,easing:this.config.easing,complete:this.config.afterOpen.bind(c.next(this.defClass))})};b.fn.MonkeysanAccordion=function(c){return this.each(function(){var d=b(this);d.data("accordion")||d.data("accordion",new a(d,c))})}})(window.jQuery);