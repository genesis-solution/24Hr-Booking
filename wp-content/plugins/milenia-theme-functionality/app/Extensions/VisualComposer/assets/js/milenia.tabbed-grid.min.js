var MileniaTabbedGrid=(function(c){var a=c(),e;var b={cssPrefix:"",startAt:0,easing:"linear",duration:400,classMap:{container:"grid",item:"grid-item",active:"grid-item--current",loading:"grid--tabbed-loading"}};c(window).on("resize.TabbedGrid",function(){if(e){clearTimeout(e)}e=setTimeout(function(){a.each(function(f,g){c(g).data("TabbedGrid").resize()})},300)});function d(f,g){this.$element=f;this.config=c.extend(true,{},b,g);Object.defineProperties(this,{containerClass:{get:function(){return this.config.cssPrefix+this.config.classMap.container}},itemClass:{get:function(){return this.config.cssPrefix+this.config.classMap.item}},activeItemClass:{get:function(){return this.config.cssPrefix+this.config.classMap.active}},loadingClass:{get:function(){return this.config.cssPrefix+this.config.classMap.loading}},$items:{get:function(){return this.$element.find("."+this.itemClass)}}});this._prepare().show(this.config.startAt,true)}d.prototype._prepare=function(){this.$element.css("position","relative");this.$items.css({overflow:"hidden",position:"absolute",top:0,right:0,left:0});return this};d.prototype.getCurrentItemIndex=function(){if(!this.$items.length){return 0}return this.$items.filter("."+this.activeItemClass).index()};d.prototype.show=function(g,h){var i=this.$items,f=this;this._hideItems(i.not(i.eq(g)));if(!i.eq(g).length){this.$element.stop().animate({height:0},{easing:f.config.easing,duration:f.config.duration,complete:function(){if(h){f.$element.removeClass(f.loadingClass)}}});return}this._showItem(i.eq(g),h)};d.prototype._hideItems=function(g){var f=this;g.removeClass(this.activeItemClass).css("z-index",1).stop().animate({opacity:0},{easing:f.config.easing,duration:f.config.duration});return this};d.prototype._showItem=function(g,h){var f=this;this.$element.stop().animate({height:g.outerHeight()},{easing:f.config.easing,duration:f.config.duration,complete:function(){if(h){f.$element.removeClass(f.loadingClass)}g.addClass(f.activeItemClass).stop().css("z-index",2).animate({opacity:1},{easing:f.config.easing,duration:f.config.duration,complete:function(){f.$element.trigger("item.shown.tabbedgrid",[f.$element])}})}});return this};d.prototype.resize=function(){var f=this;this.$element.stop().animate({height:f.$items.filter("."+f.activeItemClass).outerHeight()},{easing:f.config.easing,duration:f.config.duration,complete:function(){f.$element.removeClass(f.loadingClass);f.$element.trigger("grid.resized.tabbedgrid",[f.$element])}});return this};return{init:function(g,f){f=f||{};return g.each(function(i,j){var h=c(j);if(h.data("TabbedGrid")){return}h.data("TabbedGrid",new d(h,f));a=a.add(h)})}}})(window.jQuery);