"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[571],{68062:function(e,t,i){i(55014);var s=i(2226),n=i(14526),a=i(37441),r=i(92883),l=i(9515),o=i(44584),c=i(23584),m=i(59355),d=i(44259),u=i(38358),p=i(91285),h=i(35250);function x({title:e,description:t,htmlFor:i}){return(0,h.jsxs)("div",{className:"mailpoet-settings-label",children:[(0,h.jsx)("label",{className:"mailpoet-settings-label-title",htmlFor:i,children:e}),t&&(0,h.jsx)("p",{className:"description",children:t})]})}function g({children:e}){return(0,h.jsx)("div",{className:"mailpoet-settings-inputs",children:e})}var j=i(70079),b=i(69177),_=i(49773),v=i(19613),y=i(34352),f=i.n(y);const k=(e,t,i)=>{if("deactivate"!==e){if("reactivate"===e){const e=f()(b.MailPoet.I18n.t("re-engagementReactivatedNotice"),/\[link\](.*?)\[\/link\]/g,(e=>(0,h.jsx)("a",{href:"?page=mailpoet-newsletters#/re_engagement",rel:"noopener noreferrer",children:e},"reEngagementEmailsTabLink")));i((0,h.jsx)("p",{children:e}),{scroll:!0})}}else t((0,h.jsx)("p",{children:b.MailPoet.I18n.t("re-engagementDisabledNotice")}),{scroll:!0})};function w(){const[e,t]=(0,j.useState)(!1),i=(0,v.v9)("isSaving")(),s=(0,v.v9)("hasErrorFlag")(),a=(0,v.v9)("getSavingError")(),r=(0,v.v9)("hasReEngagementNotice")(),l=(0,v.v9)("getReEngagementAction")(),o=(0,v.BH)("saveSettings"),{notices:c}=(0,j.useContext)(n.k),m=c.error,d=c.success;return(0,j.useEffect)((()=>{e&&!i&&(a?m(a.map((e=>(0,h.jsx)("p",{children:e}))),{scroll:!0}):(d((0,h.jsx)("p",{children:b.MailPoet.I18n.t("settingsSaved")}),{scroll:!0}),r&&k(l,m,d)))}),[e,a,i,m,d,r,l]),(0,h.jsx)("div",{className:"mailpoet-settings-save",children:(0,h.jsx)(_.z,{type:"button",automationId:"settings-submit-button",isDisabled:i||s,onClick:()=>{t(!0),o()},children:b.MailPoet.I18n.t("saveSettings")})})}var C=i(32128);function F(e){const t=e.segmentsSelector?e.segmentsSelector:"getDefaultSegments",i=(0,v.v9)(t)().map((e=>({value:e.id,label:e.name,count:e.subscribers}))),s=i.filter((t=>e.value.includes(t.value)));return(0,h.jsx)(C.ReactSelect,{isMulti:!0,defaultValue:s,id:e.id,placeholder:e.placeholder,options:i,onChange:t=>{e.setValue((t||[]).map((e=>e.value)))}})}var S=i(67902);function N(e){const t=(0,v.v9)("getPages")();let i=t.find((t=>t.id===parseInt(e.value,10)));return i||(i=t[0]),(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row mailpoet-settings-inputs-row-centered",children:[(0,h.jsx)(S.Select,{id:e.id,automationId:e.automationId,value:i.id,onChange:(0,o.z2)(e.setValue),isMinWidth:!0,dimension:"small",children:t.map((e=>(0,h.jsx)("option",{value:e.id,children:`${e.title}`},e.id)))}),(0,h.jsx)("span",{className:"mailpoet-gap"}),(0,h.jsx)("a",{className:"mailpoet-link",target:"_blank",title:(0,o.t)("previewPage"),rel:"noopener noreferrer",href:i.url[e.preview],"data-automation-id":e.linkAutomationId,children:(0,o.t)("preview")})]})}var I=i(3537),z=i(13779);function M({showModal:e}){const t=(0,v.v9)("isMssActive")(),[i,s]=(0,v.yu)("sender","name"),[n,a]=(0,v.yu)("sender","address"),[r,l]=(0,j.useState)(!0),c=(0,o.DA)(n),[m,d]=(0,j.useState)(!window.mailpoet_verified_sender_domains.includes(c)),[u,p]=(0,j.useState)(window.mailpoet_partially_verified_sender_domains.includes(c)),[_,y]=(0,v.yu)("reply_to","name"),[f,k]=(0,v.yu)("reply_to","address"),w=(0,v.BH)("setErrorFlag"),C=n&&!(0,o.Jh)(n),F=f&&!(0,o.Jh)(f);return(0,j.useEffect)((()=>{w(C||F||!r&&t)}),[F,C,w,r,t]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("defaultSenderTitle"),description:(0,o.t)("defaultSenderDescription"),htmlFor:"sender-name"}),(0,h.jsxs)(g,{children:[(0,h.jsx)("label",{htmlFor:"sender-name",children:(0,o.t)("from")}),(0,h.jsx)("br",{}),(0,h.jsx)(I.I,{dimension:"small",type:"text",id:"sender-name",placeholder:(0,o.t)("yourName"),"data-automation-id":"from-name-field",value:i,onChange:(0,o.z2)(s)}),(0,h.jsx)("br",{}),(0,h.jsx)(I.I,{dimension:"small",type:"text",placeholder:"from@mydomain.com","data-automation-id":"from-email-field",value:n,onChange:(0,o.z2)((0,o.pz)((e=>{l(!0),d(!1),p(!1),a(e)}))),onBlur:(0,o.z2)((e=>{if(!t)return;const i=(0,o.DA)(e);window.mailpoet_verified_sender_domains.includes(i)||((e=>{l(window.mailpoet_authorized_emails.includes(e))})(e),d(!0),p(window.mailpoet_partially_verified_sender_domains.includes(i)))}))}),(0,h.jsx)("br",{}),C&&(0,h.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,o.t)("invalidEmail")}),(0,h.jsx)("div",{className:"regular-text",children:(0,h.jsx)(z.L,{emailAddress:n,mssActive:t,showModal:e,isEmailAuthorized:r,showSenderDomainWarning:m,isPartiallyVerifiedDomain:u,senderRestrictions:window.mailpoet_sender_restrictions,onSuccessfulEmailOrDomainAuthorization:e=>{"email"===e.type&&(l(!0),b.MailPoet.trackEvent("MSS in plugin authorize email",{"authorized email source":"settings",wasSuccessful:"yes"})),"domain"===e.type&&(d(!1),p(!1),b.MailPoet.trackEvent("MSS in plugin verify sender domain",{"verify sender domain source":"settings",wasSuccessful:"yes"}))}})}),(0,h.jsx)("label",{className:"mailpoet-settings-inputs-row",htmlFor:"reply_to-name",children:"Reply-to"}),(0,h.jsx)(I.I,{dimension:"small",type:"text",id:"reply_to-name",placeholder:(0,o.t)("yourName"),"data-automation-id":"reply_to-name-field",value:_,onChange:(0,o.z2)(y)}),(0,h.jsx)("br",{}),(0,h.jsx)(I.I,{dimension:"small",type:"text",placeholder:"reply_to@mydomain.com","data-automation-id":"reply_to-email-field",value:f,onChange:(0,o.z2)((0,o.pz)(k))}),(0,h.jsx)("br",{}),F&&(0,h.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,o.t)("invalidEmail")})]})]})}var T=i(49321);function E({title:e,description:t,event:i}){const[s,n]=(0,v.yu)("subscribe",i,"enabled"),[a,r]=(0,v.yu)("subscribe",i,"label"),[l,c]=(0,v.yu)("subscribe",i,"segments");return(0,j.useEffect)((()=>{""===a&&r((0,o.t)("yesAddMe"))}),[a,r]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:e,description:t,htmlFor:`subscribe-${i}-enabled`}),(0,h.jsxs)(g,{children:[(0,h.jsx)(T.X,{id:`subscribe-${i}-enabled`,automationId:`subscribe-${i}-checkbox`,checked:"1"===s,onCheck:e=>n(e?"1":"0")}),"1"===s&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("br",{}),(0,h.jsx)(I.I,{dimension:"small",type:"text",value:a,onChange:(0,o.z2)(r)}),(0,h.jsx)("label",{className:"mailpoet-settings-inputs-row",htmlFor:`subscribe-${i}-segments`,children:(0,o.t)("usersWillBeSubscribedTo")}),(0,h.jsx)("div",{"data-automation-id":`subscribe-${i}-segments-selection`,children:(0,h.jsx)(F,{id:`subscribe-${i}-segments`,placeholder:(0,o.t)("chooseList"),value:l,setValue:c})})]})]})]})}function D(){const[e,t]=(0,v.yu)("subscription","pages","manage");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("manageSubTitle"),description:(0,h.jsxs)(h.Fragment,{children:[(0,o.t)("manageSubDescription1")," ",f()((0,o.t)("manageSubDescription2"),/\[link\](.*?)\[\/link\]/,(e=>(0,h.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/222-customize-your-manage-subscription-page",rel:"noopener noreferrer",target:"_blank",children:e},e)))]}),htmlFor:"subscription-manage-page"}),(0,h.jsxs)(g,{children:[(0,h.jsx)(N,{value:e,preview:"manage",setValue:t,id:"subscription-manage-page",automationId:"subscription-manage-page-selection",linkAutomationId:"preview_manage_subscription_page_link"}),(0,h.jsx)("p",{children:f()((0,o.t)("hideListFromManageSubPage"),/\[link\](.*?)\[\/link\]/,(e=>(0,h.jsx)("a",{className:"mailpoet-link",href:"/wp-admin/admin.php?page=mailpoet-lists#/",rel:"noopener noreferrer",target:"_blank",children:e},e)))})]})]})}function P(){const[e,t]=(0,v.yu)("subscription","pages","unsubscribe"),[i,s]=(0,v.yu)("subscription","pages","confirm_unsubscribe");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("unsubscribeTitle"),description:(0,h.jsxs)(h.Fragment,{children:[f()((0,o.t)("unsubscribeDescription1"),"[mailpoet_page]",(()=>(0,h.jsx)("code",{children:"[mailpoet_page]"},"mp")))," ",f()((0,o.t)("unsubscribeDescription2"),/\[link\](.*?)\[\/link\]/,(e=>(0,h.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/221-customize-your-unsubscribe-page",rel:"noopener noreferrer",target:"_blank",children:e},e)))]}),htmlFor:"subscription-pages-unsubscribe"}),(0,h.jsxs)(g,{children:[(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,o.t)("confirmationPageTitle"),":"]}),(0,h.jsx)(N,{value:i,preview:"confirm_unsubscribe",setValue:s,id:"subscription-pages-unsubscribe-confirmation",automationId:"unsubscribe-confirmation-page-selection",linkAutomationId:"unsubscribe_page_preview_link_confirmation"}),(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,o.t)("successPageTitle"),":"]}),(0,h.jsx)(N,{value:e,preview:"unsubscribe",setValue:t,id:"subscription-pages-unsubscribe",automationId:"unsubscribe-success-page-selection",linkAutomationId:"unsubscribe_page_preview_link"})]})]})}function A(){const[e,t]=(0,v.yu)("stats_notifications","enabled"),[i,s]=(0,v.yu)("stats_notifications","automated"),[n,a]=(0,v.yu)("stats_notifications","address"),r=(0,v.BH)("setErrorFlag"),l=("1"===e||"1"===i)&&""===n.trim(),c=n&&!(0,o.Jh)(n);return(0,j.useEffect)((()=>{r(l||c)}),[l,c,r]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("statsNotifsTitle"),description:(0,o.t)("statsNotifsDescription"),htmlFor:"stats-enabled"}),(0,h.jsxs)(g,{children:[(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(T.X,{id:"stats-enabled",checked:"1"===e,onCheck:e=>t(e?"1":"0")}),(0,h.jsx)("label",{htmlFor:"stats-enabled",children:(0,o.t)("newslettersAndPostNotifs")})]}),(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(T.X,{id:"stats-automated",checked:"1"===i,onCheck:e=>s(e?"1":"0")}),(0,h.jsx)("label",{htmlFor:"stats-automated",children:(0,o.t)("welcomeAndWcEmails")})]}),(0,h.jsx)(I.I,{dimension:"small",type:"email",value:n,onChange:(0,o.z2)((0,o.pz)(a)),placeholder:"me@mydomain.com"}),l&&(0,h.jsx)("div",{className:"mailpoet_error_item mailpoet_error",children:(0,o.t)("pleaseFillEmail")}),c&&(0,h.jsx)("div",{className:"mailpoet_error_item mailpoet_error",children:(0,o.t)("invalidEmail")})]})]})}var B=i(60216);function O(){const[e,t]=(0,v.yu)("subscriber_email_notification","enabled"),[i,s]=(0,v.yu)("subscriber_email_notification","address"),n=(0,v.BH)("setErrorFlag"),a="1"===e&&""===i.trim(),r=i&&!(0,o.Jh)(i);return(0,j.useEffect)((()=>{n(a||r)}),[a,r,n]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("newSubscriberNotifsTitle"),description:(0,o.t)("newSubscriberNotifsDescription"),htmlFor:"subscriber_email_notification-enabled"}),(0,h.jsxs)(g,{children:[(0,h.jsx)(B.Y,{checked:"1"===e,value:"1",onCheck:t}),(0,o.t)("yes")," ",(0,h.jsx)(B.Y,{checked:""===e,value:"",onCheck:t}),(0,o.t)("no"),(0,h.jsx)("br",{}),(0,h.jsx)(I.I,{dimension:"small",type:"email",value:i,onChange:(0,o.z2)((0,o.pz)(s)),placeholder:"me@mydomain.com"}),a&&(0,h.jsx)("div",{className:"mailpoet_error_item mailpoet_error",children:(0,o.t)("pleaseFillEmail")}),r&&(0,h.jsx)("div",{className:"mailpoet_error_item mailpoet_error",children:(0,o.t)("invalidEmail")})]})]})}var $=i(40612),Y=i(51867),H=i(39425);function L({name:e,title:t,description:i}){const[s,n]=(0,j.useState)([]),[a,r]=(0,j.useState)(""),[l,c]=(0,j.useState)(null),[m,d]=(0,j.useState)(null),[u,p]=(0,j.useState)(""),[_,v]=(0,j.useState)("");let y=`[${e}`;return s.length&&(y+=` segments="${s.join(",")}"`),l&&(y+=` start_date="${b.MailPoet.Date.format(l,{format:"Y-m-d"})}"`),m&&(y+=` end_date="${b.MailPoet.Date.format(m,{format:"Y-m-d"})}"`),a&&parseInt(a,10)>0&&(y+=` in_the_last_days="${a}"`),u&&u.length>0&&(y+=` subject_contains="${u}"`),_&&parseInt(_,10)>0&&(y+=` limit="${_}"`),y+="]",(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:t,description:i,htmlFor:`${e}-shortcode`}),(0,h.jsxs)(g,{children:[(0,h.jsx)(I.I,{dimension:"small",readOnly:!0,type:"text",value:y,onClick:e=>{e.target.focus(),e.target.select()},id:`${e}-shortcode`}),(0,h.jsx)(H.m,{variant:"secondary",targetId:`${e}-shortcode`,alwaysSelectText:!0}),(0,h.jsx)("br",{}),(0,h.jsx)(F,{value:s,setValue:n,id:`${e}-shortcode-segments`,placeholder:(0,o.t)("leaveEmptyToDisplayAll"),segmentsSelector:"getSegments"}),"mailpoet_archive"===e&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("br",{}),(0,h.jsx)(I.I,{type:"number",min:"1",max:"365000",dimension:"small",tooltip:(0,Y.__)("Include newsletters sent no more than this many days ago. This overrides start and end dates.","mailpoet"),placeholder:(0,Y.__)("In the last days","mailpoet"),onChange:e=>{const t=e.target.value.trim();if(""===t)return void r("");const i=Number(t);Number.isInteger(i)&&i>0&&(c(null),d(null),r(t))},value:a}),(0,h.jsx)("br",{}),(0,h.jsx)($.a,{dimension:"small",dateFormat:"MMMM d, yyyy",onChange:e=>{c(e),null!==e&&r("")},selected:l,maxDate:m,placeholderText:(0,Y.__)("Start date","mailpoet"),isClearable:!0}),(0,h.jsx)($.a,{dimension:"small",dateFormat:"MMMM d, yyyy",onChange:e=>{d(e),null!==e&&r("")},selected:m,minDate:l,placeholderText:(0,Y.__)("End date","mailpoet"),isClearable:!0}),(0,h.jsx)("br",{}),(0,h.jsx)(I.I,{dimension:"small",type:"text",value:u,onChange:e=>p(e.target.value),placeholder:(0,Y.__)("Subject lines containing","mailpoet")}),(0,h.jsx)("br",{}),(0,h.jsx)(I.I,{type:"number",min:"1",max:"1000",dimension:"small",placeholder:(0,Y.__)("Maximum number to display","mailpoet"),onChange:e=>{const t=e.target.value.trim();if(""===t)return void v("");const i=Number(t);Number.isInteger(i)&&i>0&&v(t)},value:_})]})]})]})}function R(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("gdprTitle"),description:(0,o.t)("gdprDescription"),htmlFor:"gdpr-compliant"}),(0,h.jsx)(g,{children:(0,h.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/246-guide-to-conform-to-gdpr",title:(0,o.t)("readGuide"),target:"_blank",rel:"noopener noreferrer",children:(0,o.t)("readGuide")})})]})}function V(){const[e,t]=(0,v.yu)("reEngagement","page");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("reEngagementTitle"),description:(0,o.t)("reEngagementDescription"),htmlFor:"re-engagement-page"}),(0,h.jsx)(g,{children:(0,h.jsx)(N,{value:e,preview:"re_engagement",setValue:t,id:"re-engagement-page"})})]})}function W(){const{showModal:e}=(0,p.UO)();return(0,h.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,h.jsx)(M,{showModal:e}),(0,h.jsx)(E,{event:"on_comment",title:(0,o.t)("subscribeInCommentsTitle"),description:(0,o.t)("subscribeInCommentsDescription")}),(0,h.jsx)(E,{event:"on_register",title:(0,o.t)("subscribeInRegistrationTitle"),description:(0,o.t)("subscribeInRegistrationDescription")}),(0,h.jsx)(D,{}),(0,h.jsx)(P,{}),(0,h.jsx)(V,{}),(0,h.jsx)(A,{}),(0,h.jsx)(O,{}),(0,h.jsx)(L,{name:"mailpoet_archive",title:(0,o.t)("archiveShortcodeTitle"),description:(0,o.t)("archiveShortcodeDescription")}),(0,h.jsx)(L,{name:"mailpoet_subscribers_count",title:(0,o.t)("subscribersCountShortcodeTitle"),description:(0,o.t)("subscribersCountShortcodeDescription")}),(0,h.jsx)(R,{}),(0,h.jsx)(w,{})]})}function K(){const[e,t]=(0,v.yu)("cron_trigger","method"),i=(0,v.v9)("getPaths")();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("taskCron"),description:(0,h.jsxs)(h.Fragment,{children:[(0,o.t)("taskCronDescription")," ",(0,h.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/129-what-is-the-newsletter-task-scheduler",rel:"noopener noreferrer",target:"_blank",children:(0,o.t)("readMore")})]}),htmlFor:"cron_trigger-method"}),(0,h.jsxs)(g,{children:[(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"cron_trigger-method-action-scheduler",value:"Action Scheduler",checked:"Action Scheduler"===e,onCheck:t,automationId:"action_scheduler_cron_radio"}),(0,h.jsx)("label",{htmlFor:"cron_trigger-method-action-scheduler",children:(0,o.t)("actionSchedulerCron")})]}),(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"cron_trigger-method-wordpress",value:"WordPress",checked:"WordPress"===e,onCheck:t,automationId:"wordress_cron_radio"}),(0,h.jsx)("label",{htmlFor:"cron_trigger-method-wordpress",children:(0,o.t)("websiteVisitors")})]}),(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"cron_trigger-method-cron",value:"Linux Cron",checked:"Linux Cron"===e,onCheck:t,automationId:"linux_cron_radio"}),(0,h.jsx)("label",{htmlFor:"cron_trigger-method-cron",children:(0,o.t)("serverCron")})]}),"Linux Cron"===e&&(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,o.t)("addCommandToCrontab")}),(0,h.jsx)(I.I,{dimension:"small",type:"text",readOnly:!0,value:`php ${i.plugin}/mailpoet-cron.php ${i.root}`}),(0,h.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,o.t)("withFrequency")}),(0,h.jsx)(I.I,{dimension:"small",type:"text",readOnly:!0,value:"*/1 * * * *"})]})]})]})}function q(){const e=(0,v.v9)("hasMembersPlugin")();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("rolesTitle"),description:(0,o.t)("rolesDescription"),htmlFor:""}),(0,h.jsx)(g,{children:(0,h.jsx)("p",{children:e?(0,h.jsx)("a",{className:"mailpoet-link",href:"?page=roles",children:(0,o.t)("manageUsingMembers")}):f()((0,o.t)("installMembers"),/\[link\](.*?)\[\/link\]/,(e=>(0,h.jsx)("a",{className:"mailpoet-link",href:"https://wordpress.org/plugins/members/",rel:"noopener noreferrer",target:"_blank",children:e},e)))})})]})}function G(){const[e,t]=(0,v.yu)("tracking","level");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("engagementTrackingTitle"),description:(0,o.t)("engagementTrackingDescription"),htmlFor:"engagement_tracking"}),(0,h.jsxs)(g,{children:[(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"tracking-basic",value:"basic",checked:"basic"===e,onCheck:t,automationId:"tracking-basic-radio"}),(0,h.jsx)("label",{htmlFor:"tracking-basic",children:(0,o.t)("engagementTrackingBasic")})]}),(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"tracking-partial",value:"partial",checked:"partial"===e,onCheck:t,automationId:"tracking-partial-radio"}),(0,h.jsx)("label",{htmlFor:"tracking-partial",children:(0,o.t)("engagementTrackingPartial")})]}),(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"tracking-full",value:"full",checked:"full"===e,onCheck:t,automationId:"tracking-full-radio"}),(0,h.jsx)("label",{htmlFor:"tracking-full",children:(0,o.t)("engagementTrackingFull")})]})]})]})}function X(){const[e]=(0,v.yu)("smtp_provider"),t=(0,v.v9)("isMssActive")(),[i,s]=(0,v.yu)("send_transactional_emails");let n="";return t?n="MailPoet Sending Service":"manual"===e?n="SMTP":"SendGrid"===e?n="SendGrid":"AmazonSES"===e?n="Amazon SES":"server"===e&&(n=(0,o.t)("hostOption")),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("transactionalTitle"),description:(0,h.jsxs)(h.Fragment,{children:[(0,o.t)("transactionalDescription")," ",(0,h.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/292-choose-how-to-send-your-wordpress-websites-emails",rel:"noopener noreferrer",target:"_blank",children:(0,o.t)("transactionalLink")})]}),htmlFor:""}),(0,h.jsxs)(g,{children:[(0,h.jsx)(B.Y,{id:"transactional-enabled",value:"1",checked:"1"===i,onCheck:s}),(0,h.jsxs)("label",{htmlFor:"transactional-enabled",children:[(0,o.t)("transactionalCurrentMethod").replace("%1$s",n),(0,h.jsx)("br",{}),(0,h.jsx)("span",{className:"mailpoet-note",children:f()((0,o.t)("transactionalMssNote"),/\[link\](.*?)\[\/link\]/,(e=>(0,h.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/292-choose-how-to-send-your-wordpress-websites-emails#attachments",rel:"noopener noreferrer",target:"_blank",children:e},e)))})]}),(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"transactional-disabled",value:"",checked:""===i,onCheck:s}),(0,h.jsx)("label",{htmlFor:"transactional-disabled",children:(0,o.t)("transactionalWP")})]})]})]})}function U(){const[e,t]=(0,v.yu)("deactivate_subscriber_after_inactive_days"),[i]=(0,v.yu)("tracking","level"),s="basic"!==i;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("inactiveSubsTitle"),description:(0,h.jsxs)(h.Fragment,{children:[(0,o.t)("inactiveSubsDescription")," ",(0,h.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/264-inactive-subscribers",rel:"noopener noreferrer",target:"_blank",children:(0,o.t)("readMore")})]}),htmlFor:""}),(0,h.jsxs)(g,{children:[!s&&(0,h.jsx)("p",{"data-automation-id":"inactive-subscribers-disabled",children:(0,o.t)("disabledBecauseTrackingIs")}),s&&(0,h.jsxs)("div",{"data-automation-id":"inactive-subscribers-enabled",children:[(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"inactive-subscribers-disabled",automationId:"inactive-subscribers-option-never",value:"",checked:""===e,onCheck:t}),(0,h.jsx)("label",{htmlFor:"inactive-subscribers-disabled",children:(0,o.t)("never")})]}),(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"inactive-subscribers-3-months",value:"90",checked:"90"===e,onCheck:t}),(0,h.jsx)("label",{htmlFor:"inactive-subscribers-3-months",children:(0,o.t)("after3months")})]}),(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"inactive-subscribers-6-months",value:"180",checked:"180"===e,onCheck:t}),(0,h.jsx)("label",{htmlFor:"inactive-subscribers-6-months",children:(0,o.t)("after6months")})]}),(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"inactive-subscribers-12-months",value:"365",checked:"365"===e,onCheck:t,automationId:"inactive-subscribers-default"}),(0,h.jsx)("label",{htmlFor:"inactive-subscribers-12-months",children:(0,o.t)("after12months")})]}),(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"inactive-subscribers-18-months",value:"540",checked:"540"===e,onCheck:t}),(0,h.jsx)("label",{htmlFor:"inactive-subscribers-18-months",children:(0,o.t)("after18months")})]})]})]})]})}function J(){const[e,t]=(0,v.yu)("analytics","enabled");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("shareDataTitle"),description:(0,h.jsxs)(h.Fragment,{children:[(0,o.t)("shareDataDescription")," ",(0,h.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/130-sharing-your-data-with-us",rel:"noopener noreferrer",target:"_blank",children:(0,o.t)("readMore")})]}),htmlFor:""}),(0,h.jsxs)(g,{children:[(0,h.jsx)(B.Y,{id:"share-data-enabled",value:"1",checked:"1"===e,onCheck:t,automationId:"analytics-yes"}),(0,h.jsx)("label",{htmlFor:"share-data-enabled",children:(0,o.t)("yes")}),(0,h.jsx)("span",{className:"mailpoet-gap"}),(0,h.jsx)(B.Y,{id:"share-data-disabled",value:"",checked:""===e,onCheck:t,automationId:"analytics-no"}),(0,h.jsx)("label",{htmlFor:"share-data-disabled",children:(0,o.t)("no")})]})]})}function Q(){const[e,t]=(0,v.yu)("3rd_party_libs","enabled");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("libs3rdPartyTitle"),description:(0,h.jsxs)(h.Fragment,{children:[f()((0,o.t)("libs3rdPartyDescription"),/\[link\](.*?)\[\/link\]/,(e=>(0,h.jsx)("a",{href:"https://www.mailpoet.com/support/",rel:"noopener noreferrer",target:"_blank",children:e},e)))," ",(0,h.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/338-what-3rd-party-libraries-we-use",rel:"noopener noreferrer",target:"_blank",children:(0,o.t)("readMore")})]}),htmlFor:""}),(0,h.jsxs)(g,{children:[(0,h.jsx)(B.Y,{id:"libs-3rd-party-enabled",value:"1",checked:"1"===e,onCheck:t}),(0,h.jsx)("label",{htmlFor:"libs-3rd-party-enabled",children:(0,o.t)("yes")}),(0,h.jsx)("span",{className:"mailpoet-gap"}),(0,h.jsx)(B.Y,{id:"libs-3rd-party-disabled",value:"",checked:""===e,onCheck:t}),(0,h.jsx)("label",{htmlFor:"libs-3rd-party-disabled",children:(0,o.t)("no")})]})]})}function Z(){const[e,t]=(0,v.yu)("captcha","type"),[i,s]=(0,v.yu)("captcha","recaptcha_site_token"),[n,a]=(0,v.yu)("captcha","recaptcha_secret_token"),[r,l]=(0,v.yu)("captcha","recaptcha_invisible_site_token"),[c,m]=(0,v.yu)("captcha","recaptcha_invisible_secret_token"),d=(0,v.v9)("isBuiltInCaptchaSupported")(),u=(0,v.BH)("setErrorFlag"),p="recaptcha"===e&&""===i.trim(),b="recaptcha"===e&&""===n.trim(),_="recaptcha-invisible"===e&&""===r.trim(),y="recaptcha-invisible"===e&&""===c.trim();return(0,j.useEffect)((()=>{u(p||b||y||_)}),[b,p,y,_,u]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("captchaTitle"),description:(0,h.jsxs)(h.Fragment,{children:[(0,o.t)("captchaDescription")," ",(0,h.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/182-add-a-captcha-to-subscription-forms",rel:"noopener noreferrer",target:"_blank",children:(0,o.t)("readMore")}),("recaptcha"===e||"recaptcha-invisible"===e)&&(0,h.jsxs)("p",{children:[(0,h.jsxs)("span",{children:[(0,o.t)("reCaptchaDescription")," "]}),(0,h.jsx)("a",{className:"mailpoet-link",href:"https://www.google.com/recaptcha/admin",rel:"noopener noreferrer",target:"_blank",children:(0,o.t)("signupForCaptchaKey")})]})]}),htmlFor:""}),(0,h.jsxs)(g,{children:[(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"built-in-captcha",disabled:!d,value:"built-in",checked:"built-in"===e,onCheck:t}),(0,h.jsxs)("label",{htmlFor:"built-in-captcha",children:[(0,o.t)("builtInCaptcha")," ",!d&&(0,o.t)("disbaledBecauseExtensionMissing")]})]}),(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"google-captcha",value:"recaptcha",checked:"recaptcha"===e,onCheck:t}),(0,h.jsx)("label",{htmlFor:"google-captcha",children:(0,o.t)("googleReCaptchaCheckbox")})]}),"recaptcha"===e&&(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(I.I,{dimension:"small",type:"text",value:i,onChange:(0,o.z2)(s),placeholder:(0,o.t)("yourReCaptchaKey")}),p&&(0,h.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,o.t)("fillReCaptchaKeys")}),(0,h.jsx)("br",{}),(0,h.jsx)(I.I,{dimension:"small",type:"text",value:n,onChange:(0,o.z2)(a),placeholder:(0,o.t)("yourReCaptchaSecret")}),b&&(0,h.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,o.t)("fillReCaptchaKeys")})]}),(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"google-captcha-invisible",value:"recaptcha-invisible",checked:"recaptcha-invisible"===e,onCheck:t}),(0,h.jsx)("label",{htmlFor:"google-captcha-invisible",children:(0,o.t)("googleReCaptchaInvisible")})]}),"recaptcha-invisible"===e&&(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(I.I,{dimension:"small",type:"text",value:r,onChange:(0,o.z2)(l),placeholder:(0,o.t)("yourReCaptchaKey")}),_&&(0,h.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,o.t)("fillReCaptchaKeys")}),(0,h.jsx)("br",{}),(0,h.jsx)(I.I,{dimension:"small",type:"text",value:c,onChange:(0,o.z2)(m),placeholder:(0,o.t)("yourReCaptchaSecret")}),y&&(0,h.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,o.t)("fillReCaptchaKeys")})]}),(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,h.jsx)(B.Y,{id:"no-captcha",value:"",checked:""===e,onCheck:t}),(0,h.jsx)("label",{htmlFor:"no-captcha",children:(0,o.t)("disable")})]})]})]})}function ee(){const e=(0,v.BH)("reinstall"),{notices:t}=(0,j.useContext)(n.k);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("reinstallTitle"),description:(0,o.t)("reinstallDescription"),htmlFor:""}),(0,h.jsx)(g,{children:(0,h.jsx)(_.z,{type:"button",onClick:async()=>{if(window.confirm((0,o.t)("reinstallConfirmation"))){const i=await e();"SAVE_FAILED"===i.type?t.error(i.error.map((e=>(0,h.jsx)("p",{children:e}))),{scroll:!0}):window.location.href=`admin.php?page=${b.MailPoet.mainPageSlug}`}},automationId:"reinstall-button",variant:"destructive",children:(0,o.t)("reinstallNow")})})]})}function te(){const e=(0,v.BH)("recalculateSubscribersScore"),{notices:t}=(0,j.useContext)(n.k);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("recalculateSubscribersScoreTitle"),description:(0,o.t)("recalculateSubscribersScoreDescription"),htmlFor:""}),(0,h.jsx)(g,{children:(0,h.jsx)(_.z,{type:"button",onClick:async()=>{await e(),t.info((0,h.jsx)("p",{children:(0,o.t)("recalculateSubscribersScoreNotice")}),{scroll:!0})},variant:"secondary",dimension:"small",children:(0,o.t)("recalculateSubscribersScoreNow")})})]})}function ie(){const[e,t]=(0,v.yu)("logging");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("loggingTitle"),description:(0,h.jsxs)(h.Fragment,{children:[(0,o.t)("loggingDescription")," ",(0,h.jsx)("a",{href:"?page=mailpoet-logs",className:"mailpoet-link",children:(0,o.t)("loggingDescriptionLink")})]}),htmlFor:"logging-level"}),(0,h.jsx)(g,{children:(0,h.jsxs)(S.Select,{id:"logging-level",value:e,onChange:(0,o.z2)(t),automationId:"logging-select-box",isMinWidth:!0,dimension:"small",children:[(0,h.jsx)("option",{value:"everything","data-automation-id":"log-everything",children:(0,o.t)("everythingLogOption")}),(0,h.jsx)("option",{value:"errors","data-automation-id":"log-errors",children:(0,o.t)("errorsLogOption")}),(0,h.jsx)("option",{value:"nothing","data-automation-id":"log-nothing",children:(0,o.t)("nothingLogOption")})]})})]})}function se(){const[e,t]=(0,v.yu)("bounce","address");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("bounceEmail"),description:(0,h.jsxs)(h.Fragment,{children:[(0,o.t)("yourBouncedEmails")," ",(0,h.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/180-how-bounce-management-works-in-mailpoet-3",rel:"noopener noreferrer",target:"_blank",children:(0,o.t)("readMore")})]}),htmlFor:"bounce-address"}),(0,h.jsx)(g,{children:(0,h.jsx)(I.I,{dimension:"small",type:"text",id:"bounce-address",placeholder:"bounce@mydomain.com","data-automation-id":"bounce-address-field",value:e,onChange:(0,o.z2)((0,o.pz)(t))})})]})}function ne(){return(0,h.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,h.jsx)(se,{}),(0,h.jsx)(K,{}),(0,h.jsx)(q,{}),(0,h.jsx)(G,{}),(0,h.jsx)(X,{}),(0,h.jsx)(te,{}),(0,h.jsx)(U,{}),(0,h.jsx)(J,{}),(0,h.jsx)(Q,{}),(0,h.jsx)(Z,{}),(0,h.jsx)(ee,{}),(0,h.jsx)(ie,{}),(0,h.jsx)(w,{})]})}var ae=i(22482),re=i(634),le=i(86873),oe=i(77135);const ce=f()((0,o.t)("premiumTabDescription"),/\[link\](.*?)\[\/link\]/g,(e=>(0,h.jsx)("a",{href:"https://account.mailpoet.com/account?utm_source=plugin&utm_medium=settings&utm_campaign=activate-existing-plan&ref=settings-key-activation",target:"_blank",rel:"noopener noreferrer",children:e},"premium-tab-description"))),me=f()((0,o.t)("premiumTabGetKey"),/\[link\](.*?)\[\/link\]/g,(e=>(0,h.jsx)("a",{href:"https://account.mailpoet.com/account?utm_source=plugin&utm_medium=settings&utm_campaign=activate-existing-plan&ref=settings-key-activation",target:"_blank",rel:"noopener noreferrer",children:e},"premium-tab-get-key")));function de({subscribersCount:e}){const t=(0,v.v9)("getKeyActivationState")(),i=(0,v.BH)("updateKeyActivationState"),s=(0,v.BH)("sendCongratulatoryMssEmail"),[n,a]=(0,v.yu)("sender","address"),[r,l]=(0,v.yu)("authorized_emails_addresses_check"),c=(0,v.BH)("setSaveDone"),m=t.fromAddressModalCanBeShown&&t.mssStatus===ae.ov.VALID_MSS_ACTIVE&&(!n||r);return(0,h.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,h.jsx)(x,{htmlFor:"mailpoet_premium_key",title:(0,o.t)("premiumTabActivationKeyLabel"),description:(0,h.jsxs)(h.Fragment,{children:[ce,(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),me,(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),f()((0,o.t)("premiumTabGetPlan"),/\[link\](.*?)\[\/link\]/g,(t=>(0,h.jsx)("a",{href:`https://account.mailpoet.com/?s=${e}&utm_source=plugin&utm_medium=settings&utm_campaign=create-new-plan&ref=settings-key-activation`,target:"_blank",rel:"noopener noreferrer",children:t},"premium-tab-get-plan")))]})}),(0,h.jsxs)(g,{children:[(0,h.jsx)(oe.c,{}),(0,h.jsx)(le.X,{label:(0,o.t)("premiumTabVerifyButton")})]}),m&&(0,h.jsx)(re.d,{onRequestClose:()=>{i({fromAddressModalCanBeShown:!1}),s()},setAuthorizedAddress:async e=>{await a(e),await l(null),c()}})]})}var ue=i(26952);function pe(){const e=(0,p.k6)(),t=(0,v.v9)("isMssActive")(),[i]=(0,v.yu)("mta","mailpoet_api_key"),{mssStatus:s,premiumStatus:n}=(0,v.v9)("getKeyActivationState")(),a=null!==s&&s!==ae.ov.INVALID,r=null!==n&&n!==ae.ul.INVALID,l=window.mailpoet_free_plan_url,c=(0,v.BH)("setSetting"),m=(0,v.BH)("saveSettings");return(0,h.jsxs)("ul",{className:"mailpoet-sending-methods",children:[(0,h.jsx)("li",{children:(0,h.jsxs)("label",{className:"mailpoet-sending-method mailpoet-form-checkbox",children:[(0,h.jsx)("input",{type:"radio",checked:t,onChange:async s=>{s.preventDefault(),t||a||e.push("/premium"),!t&&a&&await(async()=>(await c(["mta_group"],"mailpoet"),await c(["mta","method"],"MailPoet"),await c(["mta","mailpoet_api_key"],i),await c(["signup_confirmation","enabled"],"1"),m()))()}}),(0,h.jsx)("span",{className:"mailpoet-form-radio-control"}),(0,h.jsx)("h4",{className:"mailpoet-h4",children:(0,o.t)("mssTitle")}),(0,h.jsx)("p",{children:t?(0,o.t)("youreSendingWithMss"):(0,o.t)("solveSendingProblems")}),(0,h.jsxs)("ul",{className:"mailpoet-sending-method-benefits mailpoet_success",children:[(0,h.jsx)("li",{className:"mailpoet_success_item",children:(0,o.t)("mssBenefit1")}),(0,h.jsx)("li",{className:"mailpoet_success_item",children:(0,o.t)("mssBenefit2")}),(0,h.jsx)("li",{className:"mailpoet_success_item",children:(0,o.t)("mssBenefit3")}),(0,h.jsx)("li",{className:"mailpoet_success_item",children:(0,o.t)("mssBenefit4")}),(0,h.jsx)("li",{className:"mailpoet_success_item",children:(0,o.t)("mssBenefit5")})]}),!a&&!r&&(0,h.jsxs)("div",{className:"mailpoet-sending-method-actions",children:[(0,h.jsx)("a",{className:"mailpoet-button button-primary",href:l,rel:"noopener noreferrer",target:"_blank",children:(0,o.t)("freeUpto")}),(0,h.jsxs)("span",{children:[" ",(0,o.t)("or")," "]}),f()((0,o.t)("enterYourKey"),/\[link\](.*?)\[\/link\]/g,((e,t)=>(0,h.jsx)(ue.Link,{to:"/premium",className:"mailpoet-link",children:e},t)))]}),!a&&r&&(0,h.jsxs)("div",{className:"mailpoet-sending-method-actions",children:[(0,h.jsx)("i",{children:(0,o.t)("invalidKeyForMss")})," ",(0,h.jsx)("a",{className:"mailpoet-button button-primary",href:"https://account.mailpoet.com/",rel:"noopener noreferrer",target:"_blank",children:(0,o.t)("getPlan")})]})]})}),(0,h.jsx)("li",{children:(0,h.jsxs)("label",{className:"mailpoet-sending-method mailpoet-form-checkbox",children:[(0,h.jsx)("input",{type:"radio",checked:!t,onChange:t=>{t.preventDefault(),e.push("/mta/other")}}),(0,h.jsx)("span",{className:"mailpoet-form-radio-control"}),(0,h.jsx)("h4",{className:"mailpoet-h4",children:(0,o.t)("otherTitle")}),(0,h.jsxs)("p",{children:[(0,o.t)("sendViaHost")," ",(0,h.jsx)("strong",{children:(0,o.t)("notRecommended")})," ",(0,o.t)("orViaThirdParty")]}),(0,h.jsx)("div",{className:"mailpoet-sending-method-actions",children:(0,h.jsx)(ue.Link,{to:"/mta/other",className:"mailpoet-link",children:(0,o.t)("configure")})})]})})]})}function he(){const[e,t]=(0,v.yu)("smtp_provider"),[,i]=(0,v.yu)("mta_group"),[,s]=(0,v.yu)("mta","method");return(0,j.useEffect)((()=>{switch(e){case"server":i("website"),s("PHPMail");break;case"manual":i("smtp"),s("SMTP");break;case"AmazonSES":i("smtp"),s("AmazonSES");break;case"SendGrid":i("smtp"),s("SendGrid");break;default:s("PHPMail")}}),[e,i,s]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("method"),htmlFor:"mailpoet_smtp_method"}),(0,h.jsx)(g,{children:(0,h.jsxs)(S.Select,{id:"mailpoet_smtp_method",value:e,onChange:(0,o.z2)(t),isMinWidth:!0,dimension:"small",children:[(0,h.jsx)("option",{value:"server",children:(0,o.t)("hostOption")}),(0,h.jsx)("option",{value:"manual",children:(0,o.t)("smtpOption")}),(0,h.jsxs)("optgroup",{label:(0,o.t)("selectProvider"),children:[(0,h.jsx)("option",{value:"AmazonSES",children:"Amazon SES"}),(0,h.jsx)("option",{value:"SendGrid",children:"SendGrid"})]})]})})]})}function xe(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("spfTitle"),description:(0,o.t)("spfDescription"),htmlFor:""}),(0,h.jsx)(g,{children:(0,o.t)("spfSetup")})]})}var ge=i(37248),je=i(82299);function be(){const[e,t]=(0,j.useState)(window.mailpoet_current_user_email),[i]=(0,v.yu)("mta"),{state:s,error:n}=(0,v.v9)("getTestEmailState")(),a=(0,v.BH)("sendTestEmail");return(0,h.jsxs)(h.Fragment,{children:[s===ae.xg.SENDING&&(0,h.jsx)(l.g,{}),s===ae.xg.SUCCESS&&(0,h.jsx)(je.q,{type:"success",scroll:!0,children:(0,h.jsx)("p",{children:(0,o.t)("emailSent")})}),s===ae.xg.FAILURE&&(0,h.jsx)(je.q,{type:"error",scroll:!0,children:(0,h.jsx)("p",{children:n.map((e=>(0,h.jsx)("p",{children:e},e)))})}),(0,h.jsx)(x,{title:(0,o.t)("testSending"),htmlFor:"mailpoet_mta_test_email"}),(0,h.jsxs)(g,{children:[(0,h.jsx)(I.I,{dimension:"small",type:"text",id:"mailpoet_mta_test_email",value:e,onChange:(0,o.z2)(t)}),(0,h.jsx)(_.z,{type:"button",dimension:"small",variant:"secondary",onClick:()=>a(e,i),children:(0,o.t)("sendTestEmail")}),(0,h.jsx)(ge.Tooltip,{tooltipId:"tooltip-settings-test",className:"mailpoet_tooltip_icon",tooltip:(0,h.jsx)("span",{style:{pointerEvents:"all"},children:f()((0,o.t)("testEmailTooltip"),/\[link\](.*?)\[\/link\]/g,((e,t)=>(0,h.jsx)("a",{className:"mailpoet-link",target:"_blank",rel:"noopener noreferrer",href:"https://kb.mailpoet.com/article/146-my-newsletters-are-not-being-received",children:e},t)))})})]})]})}function _e(){const e=(0,v.BH)("saveSettings"),t=(0,v.BH)("loadSettings"),i=(0,p.k6)();return(0,h.jsxs)("div",{className:"mailpoet-settings-save",children:[(0,h.jsx)(_.z,{type:"button",onClick:async()=>{await e(),i.push("/mta")},children:(0,o.t)("activate")}),(0,h.jsx)(_.z,{onClick:async()=>{b.MailPoet.Modal.loading(!0),await t(),i.push("/mta"),b.MailPoet.Modal.loading(!1)},variant:"tertiary",children:(0,o.t)("orCancel")})]})}const ve=1440,ye=86400;function fe(e){const t=Math.floor(parseInt(e,10));return t>60?(0,o.t)("everyHours").replace("%1$d",""+t/60):60===t?(0,o.t)("everyHour"):t>1?(0,o.t)("everyMinutes").replace("%1$d",`${t}`):(0,o.t)("everyMinute")}function ke({recommendedEmails:e,recommendedInterval:t}){const[i,s]=(0,v.yu)("mailpoet_sending_frequency"),[n,a]=(0,v.yu)("mta","frequency","emails"),[r,l]=(0,v.yu)("mta","frequency","interval");(0,j.useEffect)((()=>{"auto"===i&&(a(`${e}`),l(`${t}`))}),[i,e,t,a,l]);const c=Math.floor(ve*parseInt(n,10)/parseInt(r,10)),m=Math.floor(c/ye*10)/10;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("sendingFrequency"),htmlFor:"mailpoet_sending_frequency"}),(0,h.jsxs)(g,{children:[(0,h.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,h.jsxs)(S.Select,{id:"mailpoet_sending_frequency",value:i,onChange:(0,o.z2)(s),dimension:"small",children:[(0,h.jsx)("option",{value:"auto",children:(0,o.t)("recommendedTitle")}),(0,h.jsx)("option",{value:"manual",children:(0,o.t)("ownFrequency")})]})}),"manual"===i&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row mailpoet-settings-inputs-row-centered",children:[(0,h.jsx)(I.I,{dimension:"small",id:"other_frequency_emails",type:"number",min:"1",max:"1000",value:n,onChange:(0,o.z2)(a)}),(0,h.jsx)("span",{className:"mailpoet-gap"}),(0,h.jsx)("span",{children:(0,o.t)("emails")})]}),(0,h.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,h.jsxs)(S.Select,{id:"other_frequency_interval",value:r,onChange:(0,o.z2)(l),dimension:"small",children:[(0,h.jsx)("option",{value:"1",children:"every minute"}),(0,h.jsx)("option",{value:"2",children:"every 2 minutes"}),(0,h.jsx)("option",{value:"5",children:"every 5 minutes (recommended)"}),(0,h.jsx)("option",{value:"10",children:"every 10 minutes"}),(0,h.jsx)("option",{value:"15",children:"every 15 minutes"}),(0,h.jsx)("option",{value:"30",children:"every 30 minutes"})]})})]}),"auto"===i&&(0,h.jsxs)("div",{className:"mailpoet-settings-inputs-row",children:[(0,o.t)("xEmails").replace("%1$s",n)," ",fe(r),". "]}),(0,h.jsx)("div",{className:"mailpoet-settings-inputs-row",children:f()((0,o.t)("thatsXEmailsPerDay").replace("%1$s",c.toLocaleString()),/<strong>(.*?)<\/strong>/g,((e,t)=>(0,h.jsx)("strong",{children:e},t)))}),m>1&&(0,h.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,h.jsx)("span",{className:"mailpoet_emails_per_second_warning",children:f()((0,o.t)("thatsXEmailsPerSecond").replace("%1$s",m.toLocaleString()),/<strong>(.*?)<\/strong>/g,((e,t)=>(0,h.jsx)("strong",{children:e},t)))})}),"manual"===i&&(0,h.jsx)("div",{className:"mailpoet-settings-inputs-row",children:f()((0,o.t)("frequencyWarning").replace("%1$s",m.toLocaleString()),/<strong>(.*?)<\/strong>/g,((e,t)=>(0,h.jsx)("strong",{children:e},t)))})]})]})}function we(){const[e,t]=(0,v.yu)("web_host"),i=(0,v.v9)("getWebHosts")(),s=i[e];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("yourHost"),htmlFor:"mailpoet_web_host"}),(0,h.jsx)(g,{children:(0,h.jsx)(S.Select,{id:"mailpoet_web_host",value:e,onChange:(0,o.z2)(t),isMinWidth:!0,dimension:"small",children:Object.entries(i).map((([e,t])=>(0,h.jsx)("option",{value:e,children:t.name},e)))})}),(0,h.jsx)(ke,{recommendedEmails:s.emails,recommendedInterval:s.interval})]})}function Ce(){const[e,t]=(0,v.yu)("mta","host"),[i,s]=(0,v.yu)("mta","port"),[n,a]=(0,v.yu)("mta","login"),[r,l]=(0,v.yu)("mta","password"),[c,m]=(0,v.yu)("mta","encryption"),[d,u]=(0,v.yu)("mta","authentication");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ke,{recommendedEmails:100,recommendedInterval:5}),(0,h.jsx)(x,{title:(0,o.t)("smtpHost"),description:(0,o.t)("smtpHostExample"),htmlFor:"mailpoet_smtp_host"}),(0,h.jsx)(g,{children:(0,h.jsx)(I.I,{dimension:"small",type:"text",id:"mailpoet_smtp_host",value:e,onChange:(0,o.z2)(t)})}),(0,h.jsx)(x,{title:(0,o.t)("smtpPort"),htmlFor:"mailpoet_smtp_port"}),(0,h.jsx)(g,{children:(0,h.jsx)(I.I,{dimension:"small",type:"text",id:"mailpoet_smtp_port",value:i,onChange:(0,o.z2)(s)})}),(0,h.jsx)(x,{title:(0,o.t)("login"),htmlFor:"mailpoet_smtp_login"}),(0,h.jsx)(g,{children:(0,h.jsx)(I.I,{dimension:"small",type:"text",id:"mailpoet_smtp_login",value:n,onChange:(0,o.z2)(a)})}),(0,h.jsx)(x,{title:(0,o.t)("password"),htmlFor:"mailpoet_smtp_password"}),(0,h.jsx)(g,{children:(0,h.jsx)(I.I,{dimension:"small",type:"password",id:"mailpoet_smtp_password",value:r,onChange:(0,o.z2)(l)})}),(0,h.jsx)(x,{title:(0,o.t)("secureConnectioon"),htmlFor:"mailpoet_smtp_encryption"}),(0,h.jsx)(g,{children:(0,h.jsxs)(S.Select,{id:"mailpoet_smtp_encryption",value:c,onChange:(0,o.z2)(m),isMinWidth:!0,dimension:"small",children:[(0,h.jsx)("option",{value:"",children:(0,o.t)("no")}),(0,h.jsx)("option",{value:"ssl",children:"SSL"}),(0,h.jsx)("option",{value:"tls",children:"TLS"})]})}),(0,h.jsx)(x,{title:(0,o.t)("authentication"),description:(0,o.t)("authenticationDescription"),htmlFor:"mailpoet_smtp_authentication"}),(0,h.jsxs)(g,{children:[(0,h.jsx)(B.Y,{value:"1",checked:"1"===d,onCheck:u}),(0,o.t)("yes")," ",(0,h.jsx)(B.Y,{value:"-1",checked:"-1"===d,onCheck:u}),(0,o.t)("no")]})]})}function Fe(){const[e,t]=(0,v.yu)("mta","region"),[i,s]=(0,v.yu)("mta","access_key"),[n,a]=(0,v.yu)("mta","secret_key"),r=(0,v.v9)("getAmazonSesOptions")();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ke,{recommendedEmails:r.emails,recommendedInterval:r.interval}),(0,h.jsx)(x,{title:(0,o.t)("region"),htmlFor:"mailpoet_amazon_ses_region"}),(0,h.jsx)(g,{children:(0,h.jsx)(S.Select,{id:"mailpoet_amazon_ses_region",value:e,onChange:(0,o.z2)(t),isMinWidth:!0,dimension:"small",children:Object.entries(r.regions).map((([e,t])=>(0,h.jsx)("option",{value:t,children:e},t)))})}),(0,h.jsx)(x,{title:(0,o.t)("accessKey"),htmlFor:"mailpoet_amazon_ses_access_key"}),(0,h.jsx)(g,{children:(0,h.jsx)(I.I,{dimension:"small",type:"text",value:i,className:"regular-text",onChange:(0,o.z2)(s),id:"mailpoet_amazon_ses_access_key"})}),(0,h.jsx)(x,{title:(0,o.t)("secretKey"),htmlFor:"mailpoet_amazon_ses_secret_key"}),(0,h.jsx)(g,{children:(0,h.jsx)(I.I,{dimension:"small",type:"text",value:n,className:"regular-text",onChange:(0,o.z2)(a),id:"mailpoet_amazon_ses_secret_key"})})]})}function Se(){const[e,t]=(0,v.yu)("mta","api_key"),i=(0,v.v9)("getSendGridOptions")();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ke,{recommendedEmails:i.emails,recommendedInterval:i.interval}),(0,h.jsx)(x,{title:(0,o.t)("apiKey"),htmlFor:"mailpoet_sendgrid_api_key"}),(0,h.jsx)(g,{children:(0,h.jsx)(I.I,{dimension:"small",type:"text",value:e,onChange:(0,o.z2)(t),id:"mailpoet_sendgrid_api_key"})})]})}function Ne(){const[e]=(0,v.yu)("mta","method");return(0,h.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,h.jsx)(he,{}),"PHPMail"===e&&(0,h.jsx)(we,{}),"SMTP"===e&&(0,h.jsx)(Ce,{}),"AmazonSES"===e&&(0,h.jsx)(Fe,{}),"SendGrid"===e&&(0,h.jsx)(Se,{}),(0,h.jsx)(xe,{}),(0,h.jsx)(be,{}),(0,h.jsx)(_e,{})]})}function Ie(){const{subPage:e}=(0,p.UO)();return"other"===e?(0,h.jsx)(Ne,{}):(0,h.jsx)(pe,{})}function ze(){const e=(0,v.v9)("isMssActive")(),[t,i]=(0,v.yu)("signup_confirmation","enabled"),s=e=>{"1"===e&&window.confirm((0,o.t)("subscribersNeedToActivateSub"))&&i("1"),""===e&&window.confirm((0,o.t)("newSubscribersAutoConfirmed"))&&i("")};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("enableSignupConfTitle"),description:(0,h.jsxs)(h.Fragment,{children:[(0,o.t)("enableSignupConfDescription")," ",(0,h.jsx)("a",{className:"mailpoet-link",href:"https://kb.mailpoet.com/article/128-why-you-should-use-signup-confirmation-double-opt-in",rel:"noopener noreferrer",target:"_blank",children:(0,o.t)("readAboutDoubleOptIn")})]}),htmlFor:"signup_confirmation-enabled"}),(0,h.jsx)(g,{children:e?(0,h.jsx)("p",{children:(0,o.t)("signupConfirmationIsMandatory")}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(B.Y,{id:"signup_confirmation-enabled",checked:"1"===t,value:"1",onCheck:s,automationId:"enable_signup_confirmation"}),(0,o.t)("yes")," ",(0,h.jsx)(B.Y,{checked:""===t,value:"",onCheck:s,automationId:"disable_signup_confirmation"}),(0,o.t)("no")]})})]})}function Me(){const[e]=(0,v.yu)("signup_confirmation","enabled"),[t,i]=(0,v.yu)("signup_confirmation","subject"),[s]=(0,v.yu)("signup_confirmation","use_mailpoet_editor");return e?"1"===s?null:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("emailSubject"),htmlFor:"signup_confirmation-subject"}),(0,h.jsx)(g,{children:(0,h.jsx)(I.I,{dimension:"small",type:"text",size:50,id:"signup_confirmation-subject","data-automation-id":"signup_confirmation_email_subject",value:t,onChange:(0,o.z2)(i)})})]}):null}var Te=i(62865);function Ee(){const[e]=(0,v.yu)("signup_confirmation","enabled"),[t,i]=(0,v.yu)("signup_confirmation","body"),[s]=(0,v.yu)("signup_confirmation","use_mailpoet_editor");if(!e)return null;if("1"===s)return null;const n=(0,o.t)("emailContentDescription").replace("[current_site_title]",window.mailpoet_current_site_title||"").split("<br />").filter((e=>e));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("emailContent"),description:n.map((e=>(0,h.jsxs)("span",{children:[e,(0,h.jsx)("br",{}),(0,h.jsx)("br",{})]},e))),htmlFor:"signup_confirmation-body"}),(0,h.jsx)(g,{children:(0,h.jsx)(Te.g,{id:"signup_confirmation-body",cols:50,rows:15,"data-automation-id":"signup_confirmation_email_body",value:t,onChange:(0,o.z2)(i)})})]})}function De(){const[e]=(0,v.yu)("signup_confirmation","enabled"),[t,i]=(0,v.yu)("subscription","pages","confirmation");return e?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("confirmationPage"),description:(0,o.t)("confirmationPageDescription"),htmlFor:"subscription-pages-confirmation"}),(0,h.jsx)(g,{children:(0,h.jsx)(N,{value:t,preview:"confirm",setValue:i,id:"subscription-pages-confirmation",automationId:"page_selection",linkAutomationId:"preview_page_link"})})]}):null}function Pe(){const[e]=(0,v.yu)("signup_confirmation","enabled"),[t,i]=(0,v.yu)("signup_confirmation","use_mailpoet_editor"),[s]=(0,v.yu)("signup_confirmation","transactional_email_id"),n=(0,v.BH)("openEmailCustomizer");return e?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("emailCustomizerTitle"),description:(0,o.t)("emailCustomizerDescription"),htmlFor:"mailpoet_confirmation_email_customizer"}),(0,h.jsxs)(g,{children:[(0,h.jsx)(T.X,{id:"mailpoet_confirmation_email_customizer",automationId:"mailpoet_confirmation_email_customizer",checked:"1"===t,onCheck:e=>i(e?"1":"")}),(0,h.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,h.jsx)(_.z,{type:"button",onClick:()=>n(s),variant:"secondary",dimension:"small",children:(0,o.t)("openTemplateEditor")})})]})]}):null}function Ae(){return(0,h.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,h.jsx)(ze,{}),(0,h.jsx)(Pe,{}),(0,h.jsx)(Me,{}),(0,h.jsx)(Ee,{}),(0,h.jsx)(De,{}),(0,h.jsx)(w,{})]})}function Be(){const[e,t]=(0,v.yu)("woocommerce","use_mailpoet_editor"),[i]=(0,v.yu)("woocommerce","transactional_email_id"),s=(0,v.BH)("openWoocommerceCustomizer");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("wcCustomizerTitle"),description:(0,o.t)("wcCustomizerDescription"),htmlFor:"mailpoet_wc_customizer"}),(0,h.jsxs)(g,{children:[(0,h.jsx)(T.X,{id:"mailpoet_wc_customizer",automationId:"mailpoet_wc_customizer",checked:"1"===e,onCheck:e=>t(e?"1":"")}),(0,h.jsx)("div",{className:"mailpoet-settings-inputs-row",children:(0,h.jsx)(_.z,{type:"button",onClick:()=>s(i),variant:"secondary",dimension:"small",children:(0,o.t)("openTemplateEditor")})})]})]})}function Oe(){const[e,t]=(0,v.yu)("woocommerce","optin_on_checkout","enabled"),[i,s]=(0,v.yu)("woocommerce","optin_on_checkout","segments"),[n,a]=(0,v.yu)("woocommerce","optin_on_checkout","message"),r=(0,v.BH)("setErrorFlag"),l=""===n.trim();return(0,j.useEffect)((()=>{r(l)}),[l,r]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("wcOptinTitle"),description:(0,o.t)("wcOptinDescription"),htmlFor:"mailpoet_wc_checkout_optin"}),(0,h.jsxs)(g,{children:[(0,h.jsx)(T.X,{id:"mailpoet_wc_checkout_optin",automationId:"mailpoet_wc_checkout_optin",checked:"1"===e,onCheck:e=>t(e?"1":"")}),"1"===e&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("br",{}),(0,h.jsxs)("label",{htmlFor:"mailpoet_wc_checkout_optin_segments",children:[(0,o.t)("wcOptinSegmentsTitle"),(0,h.jsx)("br",{}),(0,h.jsx)("span",{children:(0,o.t)("leaveEmptyToSubscribeToWCCustomers")})]}),(0,h.jsx)("br",{}),(0,h.jsx)(F,{id:"mailpoet_wc_checkout_optin_segments",value:i,setValue:s,placeholder:(0,o.t)("wcOptinSegmentsPlaceholder")})]})]}),"1"===e&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("wcOptinMsgTitle"),description:(0,o.t)("wcOptinMsgDescription"),htmlFor:"mailpoet_wc_checkout_optin_message"}),(0,h.jsxs)(g,{children:[(0,h.jsx)(I.I,{dimension:"small",type:"text",id:"mailpoet_wc_checkout_optin_message","data-automation-id":"mailpoet_wc_checkout_optin_message",value:n,onChange:(0,o.z2)(a),placeholder:(0,o.t)("wcOptinMsgPlaceholder")}),(0,h.jsx)("br",{}),l&&(0,h.jsx)("span",{className:"mailpoet_error_item mailpoet_error",children:(0,o.t)("wcOptinMsgCannotBeEmpty")})]})]})]})}function $e(){const[e,t]=(0,v.yu)("mailpoet_subscribe_old_woocommerce_customers","enabled");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{title:(0,o.t)("subscribeOldWCTitle"),description:(0,o.t)("subscribeOldWCDescription"),htmlFor:"mailpoet_subscribe_old_wc_customers"}),(0,h.jsx)(g,{children:(0,h.jsx)(T.X,{id:"mailpoet_subscribe_old_wc_customers",automationId:"mailpoet_subscribe_old_wc_customers",checked:"1"===e,onCheck:e=>t(e?"1":"")})})]})}function Ye(){return(0,h.jsxs)("div",{className:"mailpoet-settings-grid",children:[(0,h.jsx)(Be,{}),(0,h.jsx)(Oe,{}),(0,h.jsx)($e,{}),(0,h.jsx)(w,{})]})}function He(){const e=(0,v.v9)("isSaving")(),t=(0,v.v9)("hasWooCommerce")();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.D,{}),e&&(0,h.jsx)(l.g,{}),(0,h.jsx)(r.w,{}),(0,h.jsx)(u.D,{storeName:"mailpoet-settings"}),(0,h.jsxs)(c.t,{activeKey:"basics",children:[(0,h.jsx)(m.O,{route:"basics/:showModal?",title:(0,o.t)("basicsTab"),automationId:"basic_settings_tab",children:(0,h.jsx)(W,{})},"basics"),(0,h.jsx)(m.O,{title:(0,o.t)("signupConfirmationTab"),automationId:"signup_settings_tab",children:(0,h.jsx)(Ae,{})},"signup"),(0,h.jsx)(m.O,{route:"mta/:subPage?",title:(0,o.t)("sendWithTab"),automationId:"send_with_settings_tab",children:(0,h.jsx)(Ie,{})},"mta"),t&&(0,h.jsx)(m.O,{title:(0,o.t)("wooCommerceTab"),automationId:"woocommerce_settings_tab",children:(0,h.jsx)(Ye,{})},"woocommerce"),(0,h.jsx)(m.O,{title:(0,o.t)("advancedTab"),automationId:"settings-advanced-tab",children:(0,h.jsx)(ne,{})},"advanced"),(0,h.jsx)(m.O,{title:(0,o.t)("keyActivationTab"),automationId:"activation_settings_tab",children:(0,h.jsx)(de,{subscribersCount:window.mailpoet_subscribers_count})},"premium")]})]})}var Le=i(89912);function Re(){return(0,h.jsx)(n.k.Provider,{value:(0,n.S)(window),children:(0,h.jsx)(He,{})})}const Ve=document.getElementById("settings_container");Ve&&((0,Le.registerTranslations)(),(0,a.N)(),(0,s.s)(Ve).render((0,h.jsx)(Re,{})))},65311:function(e){e.exports=jQuery}},function(e){e.O(0,[351],(function(){return 68062,e(e.s=68062)})),e.O()}]);